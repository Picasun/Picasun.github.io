<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    <meta name="description" content="Hexo Theme Redefine">
    <meta name="author" content="Picasun">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-redefine.png">
    <!--- Seo Part-->
    
    <link rel="canonical" href="http://example.com/2023/02/15/408-net/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    <meta property="og:type" content="article">
    <meta property="og:title" content="408-net">
    <meta property="og:description" content="Hexo Theme Redefine">
    <meta property="og:url" content="http://example.com2023/02/15/408-net/">
    <meta property="og:image" content="/images/redefine-logo.svg">
    <meta property="og:site_name" content="Picasun&#39;s Blog">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="408-net">
    <meta name="twitter:description" content="Hexo Theme Redefine">
    <meta name="twitter:image" content="/images/redefine-logo.svg">
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/redefine-logo.svg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/redefine-logo.svg">
    <meta name="theme-color" content="#005080">
    <link rel="shortcut icon" href="/images/redefine-logo.svg">
    
    <title>
        
            408-net -
        
        Picasun&#39;s Blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/assets/fonts.css">

    
    
    
    <script id="hexo-configurations">
    let REDEFINE = window.REDEFINE || {};
    REDEFINE.hexo_config = {"hostname":"example.com","root":"/","language":"en"};
    REDEFINE.theme_config = {"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true},"style":{"primary_color":"#005080","avatar":"/images/redefine-avatar.svg","favicon":"/images/redefine-logo.svg","article_img_align":"center","right_side_width":"210px","content_max_width":"1000px","nav_color":{"left":"#f78736","right":"#367df7","transparency":35},"hover":{"shadow":true,"scale":false},"first_screen":{"enable":true,"background_image":{"light":"https://evan.beee.top/img/wallhaven-wqery6-light.webp","dark":"https://evan.beee.top/img/wallhaven-wqery6-dark.webp"},"title_color":{"light":"#fff","dark":"#d1d1b6"},"description":"Your youth will be infinitely revived by Picasun！","custom_font":{"enable":false,"font_family":null,"font_url":null}},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":false}}},"local_search":{"enable":false,"preload":true},"code_block":{"copy":true,"style":"mac"},"pjax":{"enable":true},"lazyload":{"enable":true},"version":"1.1.1","friend_links":{"columns":2}};
    REDEFINE.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
    
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fa-solid fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="menu-wrapper">
    
    <div class="menu-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                Picasun&#39;s Blog
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="pc">
                <ul class="menu-list">
                    
                        
                            <li class="menu-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/"  >
                                    
                                        
                                            <i class="fa-regular fa-house"></i>
                                        
                                        HOME
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile drawer -->
    <div class="menu-drawer">
        <ul class="drawer-menu-list">
            
                
                    <li class="drawer-menu-item flex-center">
                        <a class="" 
                        href="/"  >
                             
                                
                                    <i class="fa-regular fa-house"></i>
                                
                                HOME
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            

        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            
            
                <div class="article-title">
                    <h1 class="article-title-regular">408-net</h1>
                </div>
            
                
            

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/images/redefine-avatar.svg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">Picasun</span>
                            
                                <span class="author-label">KatarinaQueen</span>
                            
                        </div>
                        <div class="meta-info">
                            <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="pc">2023-02-15 16:05:42</span>
        <span class="mobile">2023-02-15 16:05</span>
    </span>
    
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content markdown-body">
                <h1 id="25’"><a href="#25’" class="headerlink" title="25’"></a>25’</h1><p>🌟 ⭐️ ✨ </p>
<h2 id="缩写与物理设备统计"><a href="#缩写与物理设备统计" class="headerlink" title="缩写与物理设备统计"></a>缩写与物理设备统计</h2><h3 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h3><ul>
<li>协议、缩写	<ul>
<li>虚拟终端协议 Talent</li>
<li>文件传输协议 FTP</li>
<li>域名解析服务 DNS</li>
<li>电子邮件协议 SMTP</li>
<li>超文本传输协议 HTTP</li>
<li>动态主机配置协议 DHCP</li>
<li>客户机服务器模型 C&#x2F;S</li>
<li>P2P 模型</li>
</ul>
<p>	</p>
</li>
<li>物理设备</li>
</ul>
<h3 id="运输船"><a href="#运输船" class="headerlink" title="运输船"></a>运输船</h3><ul>
<li>协议、缩写<ul>
<li>UDP 用户数据报协议</li>
<li>TCP 传输控制协议</li>
</ul>
</li>
</ul>
<h3 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h3><ul>
<li><p>协议、缩写</p>
<ul>
<li>广域网 WAN</li>
<li>城域网 MAN</li>
<li>局域网 LAN</li>
<li>个人区域网 PAN </li>
<li>往返时延（RTT：Round-Trip Time）</li>
<li>经典的链路状态算法 OSPF</li>
<li>网络地址转换 NAT</li>
<li>地址解析协议 ARP</li>
<li>内部网关协议 IGP</li>
<li>外部网关协议 EGP</li>
<li>边界网关协议 BGP</li>
<li>网际控制报文协议 ICMP</li>
<li>网际组管理协议IGMP</li>
</ul>
</li>
<li><p>物理设备 </p>
<ul>
<li>路由器</li>
</ul>
</li>
<li><p>网络层以上</p>
<ul>
<li>网关</li>
</ul>
</li>
</ul>
<h3 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h3><ul>
<li><p>协议、缩写</p>
</li>
<li><p>物理设备 </p>
<ul>
<li>交换机 </li>
<li>网桥</li>
</ul>
</li>
</ul>
<h3 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h3><ul>
<li>协议、缩写<ul>
<li>服务数据单元 SDU</li>
<li>控制信息部分 PCI</li>
<li>协议数据单元 PDU</li>
<li>服务访问点 SAP Service Access Point</li>
<li>ASK：幅移键控</li>
<li>FSK：频移键控</li>
<li>PSK：相移键控</li>
<li>QAM：正交振幅</li>
<li>RZ：归零编码</li>
<li>NRZ：非归零编码</li>
<li>NRZI：反向非归零编码</li>
</ul>
</li>
<li>物理设备 <ul>
<li>集线器</li>
<li>中继器</li>
<li>转发器</li>
</ul>
</li>
</ul>
<h2 id="C1-计算机网络体系结构"><a href="#C1-计算机网络体系结构" class="headerlink" title="C1 计算机网络体系结构"></a>C1 计算机网络体系结构</h2><h3 id="计算机网络概述"><a href="#计算机网络概述" class="headerlink" title="计算机网络概述"></a>计算机网络概述</h3><ul>
<li><p>计算机网络讲分散的计算机系统通过通信设备和线路连接，由功能完善的软件实现资源共享and信息传递的系统，计算机网络是自制的互联的计算机系统的集合</p>
</li>
<li><p>组成部分</p>
<ul>
<li>硬件<ul>
<li>主机、链路、交换设备、通信处理机（网卡）</li>
</ul>
</li>
<li>软件<ul>
<li>网络操作系统、邮件收发程序、FTP程序、qq等</li>
</ul>
</li>
<li>协议 <ul>
<li>太多啦</li>
</ul>
</li>
</ul>
</li>
<li><p>功能组成</p>
<ul>
<li>通信子网<ul>
<li>传输介质、通信设备、相应的网络协议、比如网桥，交换机，路由器</li>
</ul>
</li>
<li>资源子网<ul>
<li>实现资源共享功能的设备以及软件的集合，软硬件和设备</li>
</ul>
</li>
</ul>
</li>
<li><p>计算机网络的功能</p>
<ul>
<li><strong>数据通信</strong></li>
<li><strong>资源共享</strong></li>
<li>分布式处理</li>
<li>提高可靠性</li>
<li>负载均衡</li>
</ul>
</li>
<li><p>计算机网络分类</p>
<ul>
<li><p>分布范围</p>
<ul>
<li>广域网（WAN）：核心部分，连接交换机的链路一般是高速链路</li>
<li>城域网（MAN）：以太网技术</li>
<li>局域网（LAN）：通过高速线路相连接，广播技术</li>
<li>个人区域网（PAN）：将消费电子设备连起来的网络</li>
</ul>
</li>
<li><p>按传输技术分</p>
<ul>
<li>广播式网络</li>
<li>点对点网络</li>
</ul>
</li>
<li><p>按拓扑结构分类：指通信子网的拓扑结构（路由器、主机、网线之间的几何关系）<br>  - 总线型：建网容易，重负载时通信效率低<br>  - 星型：便于集中管理，成本高，中央设备故障敏感<br>  - 环形：令牌环局域网<br>  - 网状：可靠性高，控制复杂，线路成本高</p>
<ul>
<li>使用者分<ul>
<li>公用网</li>
<li>专用网</li>
</ul>
</li>
<li>交换技术分<ul>
<li>电路交换网络（整个报文比特流源点直达终点，电话）<ul>
<li>线路利用率低，不便差错控制</li>
<li>时间延迟小，直接传送</li>
</ul>
</li>
<li>报文交换网络（报文）	     <ul>
<li>加上原地址目的地址校验码等辅助信息，封装成报文</li>
<li>也叫<strong>存储-转发</strong>网络 </li>
<li>增加了资源开销</li>
<li>需要额外的控制机制来保证报文不乱序</li>
<li>缓冲区不好管理</li>
</ul>
</li>
</ul>
</li>
<li>分组交换网络（包）<ul>
<li>数据分成固定长度的数据块</li>
<li>加上辅助信息送到相邻节点</li>
<li>有报文交换网络的优点</li>
<li>但是缓冲区易于管理</li>
<li>包平均时间延迟小</li>
</ul>
</li>
</ul>
</li>
<li><p>传输介质分</p>
<ul>
<li>有线网络<ul>
<li>双绞线网络</li>
<li>同轴电缆网络</li>
</ul>
<p>	 </p>
</li>
<li>无线网络 <ul>
<li>蓝牙</li>
<li>微波</li>
<li>无线电</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>性能指标	⭐️</p>
<ul>
<li>带宽（Bandwidth）（最高数字传输速率）</li>
<li>时延（总&#x3D;1+2+3+¥）<ul>
<li>1.发送时延：所有比特推向链路所需时间（分组长度&#x2F;信道宽度）</li>
<li>2.传播时延：一个比特一端到另一端的时间</li>
<li>3.处理时延：为存储转发而进行的必要操作花费的时间</li>
<li>4.排队时延：分组进入路由器后要在输入队列中排队等待处理，确定转发后还要在输出队列中排队等待转发</li>
</ul>
</li>
<li>时延带宽积（传播时延x带宽，管道可以容纳的比特数量）</li>
<li>往返时延（RTT）</li>
<li>吞吐量（单位时间通过某个网络的数据量）</li>
<li>速率（最高传输速率叫带宽）</li>
<li>信道利用率（有数据通过的时间&#x2F;(有+无数据通过时间)）</li>
</ul>
</li>
<li><p>课后习题</p>
<ul>
<li>局域网基于广播技术发展</li>
<li>广域网基于交换技术发展</li>
<li>网络（城 广）之间路由器相连</li>
<li>广域网的拓扑结构：网状</li>
<li>广播式网络也需要服务访问点</li>
<li>分组交换网络附加信息开销仍旧大</li>
</ul>
</li>
<li><p>综合题</p>
<ul>
<li>开销丢失字节数目</li>
<li>知道发送时延，知道数据量，算带宽，sb做的</li>
<li>讨论协议优缺点</li>
<li>分组交换：kd + ( k-1 ) p &#x2F; b + np &#x2F; b</li>
<li>一般传播时延只需要计算一次</li>
</ul>
</li>
</ul>
<h3 id="计算机网络体系结构与参考模型"><a href="#计算机网络体系结构与参考模型" class="headerlink" title="计算机网络体系结构与参考模型"></a>计算机网络体系结构与参考模型</h3><ul>
<li><p>分层结构中，有对等实体和服务提供者</p>
</li>
<li><p>报文分为两部分，共同组成PDU</p>
<ul>
<li>服务数据单元 SDU</li>
<li>控制信息部分 PCI</li>
<li>协议数据单元 PDU</li>
<li>上层的PDU作为下一层的SDU</li>
<li>链路层称为帧，网络层称为分组（数据报），传输层称为报文段</li>
</ul>
<p>	    </p>
</li>
<li><p>计算机网络协议、接口、服务</p>
<ul>
<li>协议<ul>
<li>规则的集合</li>
<li>语法语义同步</li>
<li>不对等实体之间没有协议</li>
<li>一个完整的协议应该拥有线路连接建立释放差错控制数据转换等功能</li>
</ul>
</li>
<li>接口<ul>
<li>同一个节点的相邻两层之间通过服务访问点（SAP进行交互） </li>
<li>抽象概念 逻辑接口</li>
</ul>
</li>
<li>服务（四个原语）<ul>
<li>请求 - &gt;</li>
<li>指示 &lt; -</li>
<li>响应 - &gt;</li>
<li>证实 &lt; -</li>
<li>只有能被高一层实体看见的才能称之为服务</li>
</ul>
</li>
</ul>
</li>
<li><p>提供的服务</p>
<ul>
<li>面相连接和无连接的服务<ul>
<li>无连接不建立连接，直接发送数据到链路，尽最大努力交付，不可靠 UDP</li>
<li>有连接会建立连接，建立之后才能发送，发送完释放连接 TCP</li>
</ul>
</li>
<li>可靠和不可靠服务<ul>
<li>有无纠错、检错、应答机制</li>
</ul>
</li>
<li>有应答无应答服务 <ul>
<li>文件传输服务有应答</li>
<li>WWW无应答</li>
</ul>
</li>
</ul>
</li>
<li><p>OSI（国际标准化组织ISO提出的网络体系结构模型）称为OSI&#x2F;RM	⭐️</p>
<ul>
<li>应用层<ul>
<li>用户和网络的洁面</li>
<li>为网络应用提供访问OSI手段</li>
<li>最复杂、协议最多</li>
<li>FTP、SMTP、HTTP</li>
</ul>
</li>
<li>表示层<ul>
<li>数据压缩、编码、加密解密</li>
</ul>
</li>
<li>会话层<ul>
<li>建立同步（SYN） </li>
<li>建立、管理、终止进程会话</li>
<li>校验点机制回复通信、实现数据同步</li>
</ul>
</li>
<li>传输层<ul>
<li><strong>报文段（TCP）or 数据报（UDP）</strong> </li>
<li>端到端（端口）</li>
<li>负责不同主机、两进程通信、一个进程一个端口号标识</li>
<li><strong>可靠传输、流量控制、差错检测、服务质量、数据传输管理</strong></li>
<li>TCP、UDP</li>
</ul>
</li>
<li>网络层（TCP&#x2F;IP不能流量控制）<ul>
<li>数据报（分组）</li>
<li>**流量控制、拥塞控制、差错检测、网际互联 **</li>
<li>IP、IPX、ICMP、ARP、RARP、OSPF</li>
</ul>
</li>
<li>数据链路层<ul>
<li>帧</li>
<li>点到点（结点）</li>
<li><h2 id="成帧、差错控制、流量控制、传输管理（没有拥塞控制！）"><a href="#成帧、差错控制、流量控制、传输管理（没有拥塞控制！）" class="headerlink" title="成帧、差错控制、流量控制、传输管理（没有拥塞控制！）"></a><strong>成帧、差错控制、流量控制、传输管理（没有拥塞控制！）</strong></h2></li>
<li>将网络层传来的IP数据报组装成帧 </li>
<li>SDLC、HDLC、PPP、STP</li>
</ul>
</li>
<li>物理层<ul>
<li>比特</li>
<li>透明的传输比特流</li>
<li>物理媒体如双绞线、光缆、无线信道等为第0层</li>
</ul>
</li>
<li>不同层的传输媒介</li>
</ul>
</li>
<li><p>TCP&#x2F;IP （国际标准）		⭐️</p>
<ul>
<li>应用层<ul>
<li>HTTP、SMTP &#x2F; DNS、RTP</li>
</ul>
</li>
<li>传输层<ul>
<li><pre><code> TCP	 / UDP
</code></pre>
</li>
</ul>
</li>
<li>网际层（尽力而为，选择合适路由，不保证有序）（无连接，不可靠，无法流量控制）<br>  -			IP</li>
<li>网络接口层<ul>
<li>网络接口1、2、3、4、5</li>
</ul>
</li>
</ul>
</li>
<li><p>OSI 与 TCP&#x2F;IP的比较	⭐️</p>
<ul>
<li>相同之处<ul>
<li>都采用分层的体系结构</li>
<li>都是独立的协议栈的概念</li>
<li>可以解决异构网络的互联问题</li>
</ul>
</li>
<li>不同之处<ul>
<li>OSI精准定义了服务、协议、接口，面向对象，TCP&#x2F;IP 没有明确区分 不符合软件工程思想</li>
<li>OSI是先分层的，TCP&#x2F;IP是先出现协议的，模型是对协议的描述，不适用于不是TCP&#x2F;IP的协议栈</li>
<li>TCP&#x2F;IP设计之初考虑了异构网络互联问题，将IP作为重要层次</li>
<li><strong>OSI网络层支持无连接和面向连接，但是传输层只能面相连接</strong></li>
<li><strong>TCP&#x2F;IP认为可靠性是端到端的问题，网络层只有无连接的模式</strong></li>
<li><strong>TCP&#x2F;IP传输层分成面相连接和无连接</strong></li>
</ul>
</li>
</ul>
</li>
<li><p>书本折中学习OSI与TCP&#x2F;IP的优点，五层协议的体系结构讨论</p>
</li>
<li><p>向下封装，向上拆解</p>
</li>
<li><p>课后习题：</p>
<ul>
<li>数据分块传输的优点：减少延迟，提高错误控制效率，应用更加公平共享通信介质</li>
<li>协议是在不同结点的对等实体其效果</li>
<li>OSI数据链路层不能拥塞控制！</li>
<li>拥塞控制：来不及接受大量分组要丢弃</li>
<li>物理层不参与封装</li>
<li>TCP&#x2F;IP模型中，传输层处理关于可靠性、流量控制、错误矫正问题</li>
<li>应用层的服务访问点也称为用户界面</li>
<li>网络体系结构不描述实现的细节</li>
</ul>
</li>
<li><p>综合题</p>
<ul>
<li>协议是控制两个对等实体间相互通信的规则的集合</li>
<li>想要实现本层的协议，需要下一层提供的服务</li>
<li>协议的实现保证了能够向上一层提供服务，本层只能看见服务而不能看见下面的协议</li>
<li>协议水平、服务垂直</li>
<li>会话层允许不同主机上的进程进行会话</li>
</ul>
</li>
<li><p>分布式计算机系统与计算机网络的区别</p>
<ul>
<li>分布式<ul>
<li>整个系统中所有计算机对用户透明，用户输入命令就可以运行但不知道哪一台处理的</li>
<li>OS会选择一个最适合的运行</li>
</ul>
</li>
<li>计算机网络<ul>
<li>用户必须先登录想要运行程序的计算机，按照地址将程序通过计算机网络送达该计算机运行</li>
<li>最后根据用户命令传到指定计算机中</li>
</ul>
</li>
</ul>
</li>
<li><p>一个网络协议需要考虑到各种不利的突发情况</p>
<ul>
<li>约好见面，我来你不来不是恶心人吗</li>
</ul>
</li>
<li><p>因特网IP无连接的，因此传输不可靠，为什么不一开始设计成可靠的</p>
<ul>
<li>传统电信网电话通话，所以电信公司必须发挥很大代价设计电信网</li>
<li>数据的传送显然需要非常可靠，但是需要讨论，谁来负责可靠性？</li>
<li>先驱者认为网络设备性能差别大，所以要采用端到端的策略，就是在传输层TCP，不仅网络部分价格便宜灵活，又能保证端到端</li>
<li>复习一下</li>
<li>OSI 网络层 可以提供无连接或者有连接 传输层必定有连接</li>
<li>TCP&#x2F;IP 网络层无连接 传输层可选 （可靠性是端到端的问题）</li>
</ul>
</li>
<li><p>端到端、点到点</p>
<ul>
<li>点到点<ul>
<li>直接相连的结点之间通信，一台机器到另一台机器的通信</li>
<li>不涉及程序或者进程概念</li>
<li>并不保证数据的可靠性</li>
</ul>
</li>
<li>端到端<ul>
<li>建立在点到点通信的基础上</li>
<li>高一级别，以完成端到端的通信</li>
<li>端是用户程序的端口，端口号标识了应用层中不同的进程</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>非常重要、大题</strong>	⭐️</p>
<ul>
<li>表示存储容量或者文件大小时，K&#x3D;2^10 M&#x3D;2^20 G&#x3D;2^30 T&#x3D;2^40</li>
<li>表示通信领域时，K&#x3D;1000 M&#x3D;1000000 </li>
<li>一段时间中，链路中有多少比特取决于带宽</li>
<li>1比特跑了多远取决于传播速率</li>
</ul>
</li>
</ul>
<h2 id="C2-物理层"><a href="#C2-物理层" class="headerlink" title="C2 物理层"></a>C2 物理层</h2><h3 id="通信基础"><a href="#通信基础" class="headerlink" title="通信基础"></a>通信基础</h3><ul>
<li><p>数据、信号</p>
<ul>
<li>连续变化的数据或者信号（模拟数据&#x2F;信号）</li>
<li>取值仅几个悠闲的离散数值或信号（数字数据&#x2F;信号）</li>
<li>传输方式<ul>
<li>并行</li>
<li>串行</li>
</ul>
</li>
</ul>
</li>
<li><p>码元</p>
<ul>
<li>用一个固定时长的信号来表示一位k进制数字，时长称为马元宽度</li>
<li><strong>一个码元可以携带若干比特的信息量</strong></li>
<li>如果二进制编码，只有两种不同的码元，一个代表1一个代表0</li>
</ul>
</li>
<li><p>信源</p>
<ul>
<li>产生和发送数据的源头</li>
</ul>
</li>
<li><p>信道 ⭐️</p>
<ul>
<li>信号传输的媒介，逻辑部件 </li>
<li>信道按传输信号形式的不同氛围传送模拟信号的模拟信道和数字信号的数字信道</li>
<li>按传输介质不同可以分为有线无线信道</li>
<li>信道上传输的信号有基带信号和宽带信号之分（有些不准确 见综合部分）<ul>
<li>基带信号<ul>
<li>基带信号将数字信号1&#x2F;0用两种不同的电压表示，送到数字信道上传输</li>
<li>基带传输</li>
</ul>
</li>
<li>宽带信号（频带传输）<ul>
<li>将基带信号进行调制后形成频分复用模拟信号，送到模拟信道传输</li>
<li>宽带传输</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>信宿</p>
<ul>
<li>接收数据的重点</li>
</ul>
</li>
<li><p>速率、波特、带宽</p>
<ul>
<li>就是数据传输速率，可以分成码元传输速率和信息传输速率<ul>
<li>码元传输速率（波特率 Baud）（调制速率）<ul>
<li>1波特代表数字通信系统每秒传输1个码元</li>
<li>码元可以多进制，也可以二进制的，<strong>码元速率和进制数无关</strong></li>
</ul>
</li>
<li>信息传输速率（比特率 Bit&#x2F;s）</li>
<li>若一个码元携带n比特信息量，M波特率的码元传输速率就对应信息速率Mn</li>
</ul>
</li>
</ul>
</li>
<li><p>带宽</p>
<ul>
<li>原指频带宽度，单位赫兹 Hz</li>
<li>后来表示网络通信所能传输数据的能力，此时单位不再Hz，而是b&#x2F;s</li>
</ul>
</li>
<li><p>通信双方交互方式</p>
<ul>
<li>单向通信</li>
<li>半双工通信</li>
<li>全双工通信</li>
</ul>
</li>
<li><p>奈奎斯特定理、香农定理 ⭐️</p>
<ul>
<li>奈奎斯特定理<ul>
<li>理想低通下，码元传输速率为2W波特 </li>
<li>理想低通信道下的极限数据传输速率&#x3D;2W log2V （b&#x2F;s） </li>
<li>V为离散电平数目 W为理想低通信道的带宽</li>
<li>奈式准则的结论<ul>
<li>任何信道，码元传输速率有上限，超过则码间串扰 </li>
<li>越宽，就可以用更高的速率</li>
<li>未对马元携带比特数限制，设法让码元带更多的比特，多元调制</li>
</ul>
</li>
</ul>
</li>
<li>香农定理 <ul>
<li>信道的极限传输速率&#x3D;W log2 ( 1 + S&#x2F;N  ) （b&#x2F;s）</li>
<li>信噪比 &#x3D;10log10（S&#x2F;N）</li>
<li>30db&#x3D;10log10（1000）这里S&#x2F;N就是1000</li>
<li>香农定理的结论<ul>
<li>带宽越大、信噪比越大，速率越高</li>
<li>对一定的W和S&#x2F;N 数据传输速率上限一定</li>
<li>信息低于极限传输速率就能找到办法无差错</li>
<li>信道实际速率低不少</li>
</ul>
</li>
</ul>
<p>	 </p>
</li>
<li>奈式准则只考虑了带宽与极限码元传输速率的关系</li>
<li>香农还考虑到了信噪比，侧面表明：码元对应二进制位有限</li>
</ul>
</li>
<li><p>编码与调制 ⭐️</p>
<ul>
<li>信号变成数字信号就是编码</li>
<li>信号变成模拟信号就是调制</li>
<li>数字数据 编码为 数字信号	数字发送器<ul>
<li>RZ：归零编码（信号最后都是0，开始的时候需要就跳变）</li>
<li>NRZ：非归零编码（没脑子的不会）</li>
<li>NRZI：反向非归零编码</li>
<li>曼彻斯特编码<ul>
<li>以太网就用这个，码元中间跳变，所占频带宽度为基带宽度两倍</li>
</ul>
</li>
<li>差分曼彻斯特编码<ul>
<li>抗干扰</li>
</ul>
</li>
<li>4B&#x2F;5B 80%效率</li>
</ul>
</li>
<li>数字数据 调制为 模拟信号	调制器<ul>
<li>ASK：幅移键控<ul>
<li>容易实现、抗干扰差</li>
</ul>
</li>
<li>FSK：频移键控<ul>
<li>抗干扰强，广泛使用</li>
</ul>
</li>
<li>PSK：相移键控<ul>
<li>绝对相对调相</li>
</ul>
</li>
<li>QAM：正交振幅</li>
</ul>
</li>
<li>模拟数据 编码为 数字信号	PCM编码器<ul>
<li>采样：需要大于原信号最大频率的<strong>两倍</strong>（采样定理&#x2F;奈奎斯特定理）<ul>
<li>把连续的信号变成时间上离散的信号，超过两倍就能无失真</li>
</ul>
</li>
<li>量化：采样得到的点平值变成数字值并取整，连续的电平就成了离散的数字量</li>
<li>编码： 把量化结果变成对应的二进制编码</li>
</ul>
</li>
<li>模拟数据 调制为 模拟信号	放大器</li>
</ul>
</li>
<li><p>电路交换、报文交换、分组交换 ⭐️</p>
<ul>
<li>电路交换 <ul>
<li>必须建立专用物理路径，建立连接、数据传输、连接释放</li>
<li>优点：<ul>
<li>通信时延小、有序传输、无冲突、适用范围广、实时性强、控制简单，不存在存储转发所耗费的时间</li>
</ul>
</li>
<li>缺点：<ul>
<li>建立连接时间长、线路独占、灵活性差、难以规格化（不同类型、规格、速率终端很难相互通信，难以进行差错控制）</li>
</ul>
</li>
</ul>
</li>
<li>报文交换<ul>
<li>优点：<ul>
<li>无需建立连接、动态分配线路、提高线路可靠性、提高线路利用率、提供多目标服务</li>
</ul>
</li>
<li>缺点：<ul>
<li>需要经历存储转发、转发时延（接受保温、检验正确性、排队、发送）</li>
</ul>
</li>
</ul>
</li>
<li>分组交换 <ul>
<li>优点：<ul>
<li>无建立时延、线路利用率高、简化存储管理（分组长度固定）、加速传送（一个分组的存储操作与前一个分组的转发操作并行）、减少率出错概率和重发数据量</li>
</ul>
</li>
<li>缺点：<ul>
<li>存在传输时延、需要额外的信息量（每个小数据块都要加上源地址目的地址分组编号等信息）、当分组交换采用数据报服务时，可能失去序列，需要重新排序，如果用<strong>虚电路</strong>，虽然无失序，但需要呼叫建立，数据传输，电路释放三个过程</li>
</ul>
</li>
</ul>
</li>
<li>数据量大，传输时间长，电路适合，端到端多条链路组成，分组交换合适，豹纹和分组优于电路，分组交换比报文交换时延小，适合突发通信</li>
<li>P38页比较图非常好</li>
</ul>
</li>
<li><p>数据报、虚电路 ⭐️</p>
<ul>
<li>分组交换可以分成面向连接的虚电路方式和无连接的数据报方式，都由网络层提供<ul>
<li>数据报<ul>
<li>不需要建立连接，随时发送，随时接受</li>
<li>最大努力交付、不保证可靠性，可能丢失，每个分组路径可能不同</li>
<li>分组重要包括完整地址</li>
<li>存储转发时排队等候需要时延，拥塞or通信量较大会大大增加时延，丢弃部分分组</li>
<li>冗余路径，更新转发表，故障适应</li>
<li>时延小，吞吐量大</li>
<li>不独占</li>
</ul>
</li>
<li>虚电路<ul>
<li>数据报方式和电路交换方式结合，充分发挥优点，需要建立逻辑上虚电路</li>
<li>建立时要分配一个未用过的虚电路号，区别不同的虚电路</li>
<li>分组要有分组号，也要有通过的虚电路号，区别其他电路的分则</li>
<li>通信链路建立拆除需要时间，交互式和短分组浪费</li>
<li>路由选择体现在建立阶段</li>
<li>提供可靠通信，正确有序，可以流量控制，暂缓发送</li>
<li>致命弱点：某节电or链路彻底失效，所有虚电路遭到破坏</li>
<li>不包含目的地址等，只有虚电路标识符</li>
<li>P41比较表</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>课后习题</p>
<ul>
<li>信道不等于通信电路</li>
<li>可双向通信的电路包含两个信道，一个发送一个接受</li>
<li>影响信道的最大传输速率，信噪比和带宽</li>
<li>计算机内部并行传输</li>
<li><strong>曼彻斯特编码将时钟和取值都包含在信号中</strong> </li>
<li>曼彻斯特编码所占频带宽度时原始基带宽度的两倍（每个比特需要两个信号周期）</li>
<li>以太网分组交换技术</li>
<li>电路交换时延小</li>
<li>网络层是分组，链路层是帧</li>
<li>虚电路不适合出错率高，因为故障就要重新建立虚电路</li>
<li>会话结束后虚电路不一定会直接释放连接</li>
<li>虚电路不需要需分配带宽</li>
</ul>
</li>
<li><p>综合题：</p>
<ul>
<li>RTT的计算，2x距离&#x2F;传输速度</li>
<li>发生时间表 少就选择列出时间 多就选择找规律</li>
<li>可以从第一个设备发送完毕所有东西后开始统计</li>
<li>也可以从末尾设备接收到第一个开始统计</li>
<li>整个传输总时间延迟&#x3D;建立+源点发送+中间发送+中间处理+传播 ⭐️</li>
<li>建立：会给</li>
<li>源点发送：所有的&#x2F;比特率</li>
<li>中间发送（k-1）x每组数据量&#x2F;比特率</li>
<li>传播（k条链路的话 kd）</li>
</ul>
</li>
<li><p>基带传输、频带传输、宽带传输</p>
<ul>
<li>基带传输<ul>
<li>近距离可以不通过调制直接传输就是基带传输</li>
<li>常用不归零和曼彻斯特</li>
</ul>
</li>
<li>频带传输<ul>
<li>对数字信号调制变成适合传播的信号就是频带传输</li>
<li>可以实现多路复用，提高利用率</li>
</ul>
</li>
<li>宽带传输<ul>
<li>比如把信道频分复用，划分成2个不相关子信道</li>
<li>分别子信道频带传输，链路容量增加，这就是宽带传输</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="传输介质"><a href="#传输介质" class="headerlink" title="传输介质"></a>传输介质</h3><ul>
<li><p>第0层</p>
</li>
<li><p>双绞线、同轴电缆、光纤与无限传输介质</p>
<ul>
<li>导向传播介质：铜线光纤</li>
<li>非导向传播介质：空气真空海水</li>
<li>双绞线（P110 更详细的介绍分类）<ul>
<li>古老、相互绝缘铜导线，抗干扰，可以再加一层屏蔽</li>
<li>便宜，通用</li>
<li>模拟传输需要放大器放大衰减的信号</li>
<li>数字传输需要中继器整形失真信号</li>
</ul>
</li>
<li>同轴电缆<ul>
<li>有线电视，抗干扰，传输距离远，比双绞线贵</li>
</ul>
</li>
<li>光纤<ul>
<li>光导纤维，光脉冲有就是1，没有就是0</li>
<li>可见光频率10^8MHz 通信带宽极大</li>
<li>入射角大于临界角度出现全反射，光沿着光线传播</li>
<li>直径8-100um</li>
<li>利用全反射可以不同入射角同一根光纤，多模光纤，只适合近距离，否则失真</li>
<li>光纤直径小于一个光波长的时候很远都不用中继器</li>
<li>传输损耗小、抗雷电电磁、无串音干扰、体积小重量轻</li>
</ul>
</li>
<li>无线传输介质<ul>
<li>无线电波<ul>
<li>强穿透，无线手机通信，无线局域网WLAN</li>
</ul>
</li>
<li>微波、红外线、激光<ul>
<li>都需要发送方接收方</li>
<li>红外线直线传播</li>
<li>微波频率高，频带宽，容量大，超过距离需要中继站接力</li>
<li>卫星通信通过地球同步微信座位中继来发送微博信号，克服地面限制</li>
<li>微波保密性差</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>物理层接口特性 </p>
<ul>
<li>机械特性：接口形状尺寸，引脚等</li>
<li>电气特性：电压</li>
<li>功能特性：点平含义</li>
<li>过程特性（规程特性）：不同功能的各种事件出现顺序</li>
</ul>
</li>
<li><p>课后习题：</p>
<ul>
<li>以太网、广播、半双工</li>
<li>同轴电缆比双绞线更加抗干扰，所以快</li>
<li>光纤不受电磁干扰</li>
<li>光纤不中空，发丝大小玻璃丝</li>
</ul>
</li>
</ul>
<h3 id="物理层设备-⭐️"><a href="#物理层设备-⭐️" class="headerlink" title="物理层设备 ⭐️"></a>物理层设备 ⭐️</h3><ul>
<li><p>中继器</p>
<ul>
<li>功能：将信号整形并发大再传播出去，消除失真和衰减</li>
<li>原理：信号再生（而非再发达）</li>
<li>中继器两端为网段，几个网段仍然一个局域网</li>
<li>不能连接两个不同速率的局域网</li>
<li>有存储转发功能意味着可以连接两个不同协议</li>
<li>没有 不能</li>
<li>中继器必须相同速率，相同协议网段，因为没有存储转发功能</li>
<li>5-4-3原则<ul>
<li>采用粗同轴电缆的10BASE5以太网规范中</li>
<li>相互串联中继器不超过4</li>
<li>网段不超过5</li>
<li>3段能挂计算机</li>
</ul>
</li>
<li>区别于放大器：放大的是模拟信号，原理是放大衰减的信号</li>
<li>中继器是再生   </li>
<li>端口仅仅作用于信号的电气部分</li>
</ul>
</li>
<li><p>集线器（Hub）</p>
<ul>
<li>实际上是一个多端口的中继器</li>
<li>将信号整形放大，使之再生，恢复到发送时的状态</li>
<li>转发到所有端口，多输入冲突，标准共享式设备</li>
<li>Hub使用双绞线组建共享网络</li>
<li>不能分割冲突域</li>
<li>10Mb&#x2F;s 8台 1.25Mb&#x2F;s 真正拥有的带宽</li>
</ul>
</li>
<li><p>课后习题</p>
<ul>
<li>转发器放大信号</li>
<li>中继器仅仅电气特性</li>
<li>物理层相连，速率相同，数据链路层协议可以不同</li>
<li>数据链路层互联则也需要相同 </li>
<li>放大器也会放大噪声，引起失真，中继器信号再生，减小失真</li>
<li>集线器星形拓扑</li>
<li>中继器和集线器都可以对信号进行整形放大</li>
</ul>
</li>
</ul>
<h2 id="C3-数据链路层"><a href="#C3-数据链路层" class="headerlink" title="C3 数据链路层"></a>C3 数据链路层</h2><h3 id="数据链路层的功能"><a href="#数据链路层的功能" class="headerlink" title="数据链路层的功能"></a>数据链路层的功能</h3><ul>
<li><p>物理层基础上，向网络层提供服务</p>
</li>
<li><p>可能出错的物理连接改造为逻辑上无差错的数据链路</p>
</li>
<li><p>向网络层提供如下服务：	</p>
<ul>
<li>无确认无连接（以太网）</li>
<li>有确认无连接（无线通信）</li>
<li>有确认有连接</li>
</ul>
</li>
<li><p>链路管理：</p>
<ul>
<li>建立、维持、释放</li>
</ul>
</li>
<li><p>帧定界、帧同步、透明传输</p>
<ul>
<li>帧数据部分上限：最大传送单元 （MTU）</li>
<li>不管数据什么样的组合都能在链路上传送</li>
<li>帧定界</li>
<li>HDLC </li>
<li>01111110开始</li>
<li>01111110结束</li>
</ul>
</li>
<li><p>流量控制</p>
</li>
<li><p>差错控制（由于噪声）</p>
<ul>
<li>提高信噪比，降低误码率</li>
<li>通过CRC（循环冗余校验）发现位错</li>
<li>通过ARQ来重传出错的帧<ul>
<li>让发送方带着CRC冗余码一并发送</li>
<li>接收方根据检错码对数据帧进行检测</li>
<li>错误丢弃</li>
<li>发送方超时重传该数据帧</li>
<li>确保每一帧最终都能有且仅有一次交付给目标节点</li>
</ul>
</li>
</ul>
</li>
<li><p>课后习题</p>
<ul>
<li>数据链路层：差错控制、流量控制、帧定界     	 </li>
<li>数据链路层协议功能<ul>
<li>组帧（定义数据格式）</li>
<li>物理层提供不可靠的物理连接上实现结点到结点的可靠性传输</li>
<li>控制对物理介质的访问（MAC子层）</li>
<li>不必考虑物理层如何实现比特传输的细节</li>
</ul>
</li>
<li>流量控制是对发送方的数据流量控制</li>
<li>实时性高：无确认无连接</li>
<li>数据链路层避免帧丢失，采用超时重发</li>
</ul>
</li>
</ul>
<h3 id="组帧-⭐️"><a href="#组帧-⭐️" class="headerlink" title="组帧 ⭐️"></a>组帧 ⭐️</h3><p>数据链路层之所以要把比特组装成帧，就是为了出错的时候只重发出错的，不用全部，为了让接收方能正确接受并检查，发送方必须按照一定的规则封装。解决帧定界、帧同步、透明传输。<br>帧是网络信息的最小单位，必须弄清何时开始，结束。因为接收到的是一段比特流，如果没有首部尾部不能正确区分。分组（IP数据报）仅仅是包含在帧之中的，不需要定界。</p>
<ul>
<li>字符计数法 ❌<ul>
<li>第一个数字来代表帧内的字符数</li>
<li>计数错全g，灾难</li>
</ul>
</li>
<li>字符填充法 ❌<ul>
<li>SOH开始EOT结束</li>
<li>中间出现特殊的就加上ESC（加转义字符）</li>
</ul>
</li>
<li>零比特填充的首位标志法 ✅<ul>
<li>5个1自动添加0</li>
<li>01111110 开始 结束</li>
</ul>
</li>
<li>违规编码法 ✅<ul>
<li>曼彻斯特把比特1编码成高低点平，0为低高</li>
<li>高高低低没用，可以用这个编码方法来实现定界，实现透明传输</li>
</ul>
</li>
</ul>
<h3 id="差错控制"><a href="#差错控制" class="headerlink" title="差错控制"></a>差错控制</h3><ul>
<li><p>检错编码 </p>
<ul>
<li>奇偶校验码：只能检查出奇数个出错</li>
<li>循环冗余码：多项式运算<ul>
<li>事先商定的多项式G(x)阶为r， 在帧低位加r个0</li>
<li>传送的是G(x)外加 原来的数据&#x2F;G(x)所得的余数</li>
<li>硬件实现判定</li>
</ul>
</li>
</ul>
</li>
<li><p>纠错编码 ⭐️</p>
<ul>
<li>n为有效信息位数</li>
<li>k为校验位数</li>
<li>n+k &lt;&#x3D; 2^k - 1</li>
<li>对应数据位异或求校验位</li>
<li>D4 D3 D2 D1</li>
<li>1	 0	1    0</li>
<li>校验位就是要让1的个数保持偶数</li>
<li>校验方程</li>
<li>S1 &#x3D; P1。D1。D2。D4 异或运算</li>
<li>检n 码n+1</li>
<li>纠n 码2n+1</li>
</ul>
</li>
<li><p>课后习题</p>
<ul>
<li>提高信噪比可以减少随机差错</li>
<li>CRC 可以检测所有单比特错误</li>
<li>数据链路层也可以提供纠正</li>
<li>海明码纠1位</li>
<li>奇校验，什么校验就让1的个数变成啥样 ⭐️<ul>
<li>如果字符数据位中”1”的数目是偶数,校验位为”1”</li>
<li>如果”1”的数目是奇数,校验位应为”0”</li>
</ul>
</li>
</ul>
</li>
<li><p>大题会除法就完事</p>
</li>
</ul>
<h3 id="流量控制和可靠传输机制"><a href="#流量控制和可靠传输机制" class="headerlink" title="流量控制和可靠传输机制"></a>流量控制和可靠传输机制</h3><ul>
<li><p>流量控制、可靠传输和滑动窗口机制</p>
<ul>
<li>对链路上的帧发送速率的控制，以使接收方有足够的缓冲空间来接受每个帧</li>
<li>停止-等待流量控制基本原理<ul>
<li>每发送一帧，就要等待对方应答，然后才能发送下一帧</li>
<li>传输效率很低</li>
</ul>
</li>
<li>滑动窗口流量控制基本原理 <ul>
<li>发送方维持一组连续的允许发送的帧的序号：发送窗口</li>
<li>接收方维持一组连续的允许接受的帧的序号：接受窗口</li>
<li>发送端收到一个确认，就往前滑动一个，发送窗口没有可以发送的就停止（都发送了但都没确认）</li>
<li>只有接受窗口向前滑动，发送窗口才有可能向前华东</li>
<li>停等协议：发送窗口&#x3D;1	接受窗口&#x3D;1</li>
<li>后退N帧协议：发送窗口&gt;1	接受窗口&#x3D;1</li>
<li>选择重传：都&gt;1</li>
<li>接受窗口大小是1才能保证有序</li>
<li>窗口大小在传输过程中固定（区别传输层的滑动窗口协议）⭐️</li>
</ul>
</li>
<li>可靠传输机制<ul>
<li>数据链路层使用确认和超时重传两种机制完成<ul>
<li>确认：无数据控制，捎带确认</li>
<li>传统自动重传请求<ul>
<li>停止等待ARQ</li>
<li>后退N帧ARQ</li>
<li>选择重传ARQ</li>
<li>后两种是滑动窗口和请求重发技术的结合</li>
</ul>
</li>
<li>窗口足够大，帧就可以在线路上连续流动，又称为连续ARQ</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>单帧滑动窗口与停止-等待协议 ⭐️</p>
<ul>
<li>发送接受窗口都是1</li>
<li>超过计时器再次发送相同帧</li>
<li>信道利用率很低</li>
</ul>
</li>
<li><p>多帧滑动窗口与后退N帧协议（GBN）⭐️</p>
<ul>
<li>可以连续发送帧</li>
<li>若发现该N个帧的前一个帧在计时器超时还未返回信息就判定出错&#x2F;丢失</li>
<li>发送方重新传送出错帧以及随后的N个帧</li>
<li>接收方只允许顺序接受帧</li>
<li>接收方对连续的正确的最后一个数据帧发送确认帧</li>
<li>累计确认</li>
<li>ACK n 代表对第n帧的确认</li>
<li>n比特币编号，发送窗口 1 &lt;&#x3D; Wt &lt;&#x3D; 2^n -1</li>
<li>误码率打的时候，后退N帧协议不一定优于停止-等待</li>
<li>没收到确认帧的已发送也需要放入缓存</li>
</ul>
</li>
<li><p>多帧滑动窗口与选择重传协议（SR）⭐️</p>
<ul>
<li>为了提高利用率，只重传出错的帧或者超时的帧</li>
<li>为此必须加大接受窗口</li>
<li>这就是选择重传ARQ协议</li>
<li>设置接受缓存 </li>
<li>没收到确认帧的已发送也需要放入缓存</li>
<li>接受一个确认一个</li>
</ul>
</li>
<li><p>课后习题</p>
<ul>
<li>控制信道利用率（发送时延&#x2F;发送+传播）、停止-等待要来回</li>
<li>选择重传 接受与发送窗口大小 2^(n-1)</li>
<li>后退N帧 最大发送窗口 2^n - 1 </li>
<li>选择重传 接受+发送&lt;2^n</li>
</ul>
</li>
<li><p>综合题</p>
<ul>
<li>效率&#x3D;（发送窗口数）x每个数据帧长度&#x2F;速度   &#x2F;  RTT+一个数据帧长度&#x2F;速度</li>
<li>一定要确定好发送和接受窗口大小</li>
<li>有累积确认机制</li>
<li>捎带确认 Td&#x3D;Ta （数据帧长和确认帧长一样）</li>
</ul>
</li>
</ul>
<h3 id="介质访问控制"><a href="#介质访问控制" class="headerlink" title="介质访问控制"></a>介质访问控制</h3><p>采取一定的措施让两对结点间通信不会互相干扰</p>
<ul>
<li><p>信道划分介质访问控制</p>
<ul>
<li>把多个输入通道的信息整合到一个复用通道</li>
<li>频分多路复用 FDM<ul>
<li>系统效率高 容易实现</li>
</ul>
</li>
<li>时分多路复用 TDM<ul>
<li>若干时间片，时分复用帧</li>
<li>统计时分多路复用STDM 利用率更高，动态分配时隙</li>
</ul>
</li>
<li>波分多路复用 WDM<ul>
<li>光的频分多路复用</li>
</ul>
</li>
<li>码分多路复用 CDM<ul>
<li>CDMA 两个不同站码片序列：向量规格化内积为0（1&#x2F;m）</li>
<li>规定每个站点的码片序列 1不变 0 变</li>
</ul>
</li>
</ul>
</li>
<li><p>不采用集中控制方式解决发送信息的次序问题，用户跟随意愿发送，占用信道全部速率。两个同时发送就会碰撞，每个用户需要按照一定的规则反复重传，直到帧无碰撞通过。</p>
</li>
<li><p>随机访问介质访问控制（争用型协议）⭐️</p>
<ul>
<li>ALOHA<ul>
<li>纯ALOHA<ul>
<li>直接发送，一段时间未收到确认就等待一段时间重发</li>
</ul>
</li>
<li>时隙ALOHA 	 <ul>
<li>时间划分成一段段等长时隙，时隙开始才能真正发送</li>
</ul>
</li>
</ul>
</li>
<li>CSMA<ul>
<li>1-坚持CSMA<ul>
<li>发送前，先侦听</li>
<li>空闲就发</li>
<li>忙就继续听，空闲就立刻发送</li>
<li>不可避免的等待冲突</li>
</ul>
</li>
<li>非坚持CSMA<ul>
<li>空闲就发 </li>
<li>忙就放弃侦听，等一个随机时间重复</li>
<li>增加数据平均延迟</li>
</ul>
</li>
<li>p-坚持CSMA<ul>
<li>空闲p概率发</li>
<li>1-p概率推迟时隙 </li>
<li>继续侦听直到空闲</li>
</ul>
</li>
</ul>
</li>
<li>CSMA&#x2F;CD	⭐️<ul>
<li>适用于有线连接的局域网 </li>
<li>载波监听多路访问&#x2F;碰撞检测</li>
<li>适用于总线型or半双工网络环境</li>
<li>发送之前先侦听</li>
<li>便发送边侦听</li>
<li>先听后发、边听边发、冲突停发、随机重发</li>
<li>最小帧长&#x3D;传播时延 x 2 x 数据传输速率</li>
<li>以太网规定51.2us为争用期长度，最小帧长64B</li>
<li>小于64B的帧都是因为冲突而异常中止的无效帧</li>
<li>基本退避时间为2t （2t为争用期）</li>
<li>t为单程传播时延</li>
<li>重传次数k每次冲突+1</li>
<li>从整数集合0 - 2^k-1 选出一个r 然后退避2tr</li>
<li>超过16就别发了 向上层打个报告辞职吧</li>
</ul>
</li>
<li>CSMA&#x2F;CA	⭐️<ul>
<li>适用于无线局域网</li>
<li>对CD进行了修改，碰撞检测变成了碰撞避免</li>
<li>载波监听多路访问&#x2F;碰撞避免</li>
<li>使用ARQ方案，无线网发完一帧才能继续发送下一帧</li>
<li><strong>所有站发完后必须等待一段很短的时间才能发送下一帧</strong></li>
<li>归纳<ul>
<li>有数据要发送，检测空闲，等待DIFS后发送整个</li>
<li>否则退避算法，选取随机会退值，检测忙就保持不变</li>
<li>只要信道空闲，退避计时器倒计时</li>
<li>退避到0 发送整个帧</li>
<li>发送站收到确认，就知道目的站接受</li>
<li>要发下一帧 就再来一次</li>
</ul>
</li>
<li>源站要发送之前先广播一个RTS控制帧</li>
<li>然后AP广播一个允许发送的CTS给所有站点，抑制其他，允许源站</li>
</ul>
</li>
</ul>
</li>
<li><p>CSMA&#x2F;CD与CSMA&#x2F;CA	⭐️</p>
<ul>
<li>CD可以检测冲突但无法避免</li>
<li>CA发送的同时不能检测，只能尽量避免</li>
<li>CD用于总线型以太网</li>
<li>CA用于无线局域网</li>
<li>CD用电压变化检测</li>
<li>CA用能量检测、载波检测、能量载波混合检测</li>
<li>CSMA&#x2F;CA基本思想就是发送时广播其他站点，让他们别发，以免碰撞；</li>
<li>CSMA&#x2F;CD基本思想就是发送前，发送时都侦听，碰撞就别发</li>
</ul>
</li>
<li><p>轮询访问：令牌传递协议（并不是随机介质访问控制哦）</p>
<ul>
<li>用户不能随机发送信息，要通过集中控制的监控站</li>
<li>监控站循环询问每个节点，再分配</li>
<li>主要适用于令牌环局域网</li>
<li>一个Token沿着环形总线在各节点计算机间依次传递</li>
<li>令牌是一个特殊MAC控制帧，不包含信息，仅仅控制信道的使用</li>
<li>发送完一帧释放令牌给其他站使用，访问权利公平</li>
<li>物理拓扑不需要一个环</li>
<li>数据链路层研究的是点到点之间的通信</li>
<li>非常适合负载很高的广播信道（同时发送数据概率很大信道）</li>
</ul>
</li>
<li><p>课后习题</p>
<ul>
<li>TDM比FDM抗干扰能力强，FDM适合模拟信号，TDM适合数字信号</li>
<li>TDM无碰撞，ALOHA，CSMA&#x2F;CD，CSMA都有碰撞</li>
<li>争用期：往返</li>
<li>二进制回退：考虑了网络负载对冲突的影响</li>
<li>令牌环网适合负载重的</li>
<li>中继器少了，冲突信号可以更快的到发送站点</li>
<li>令牌环不存在冲突</li>
<li>需要对数据帧进行确认的MAC协议：CSMA&#x2F;CA 其他不用</li>
<li>DIFS长</li>
<li>CSMA&#x2F;CD 随机访问介质访问控制 灵活 碰撞 下降利用率</li>
<li>TDM 时隙 在自己的时隙没有发送的情况多 不利于充分利用 </li>
<li>突发数据不利于TDM</li>
<li>最小帧长&#x3D;2x传播时延x数据率</li>
</ul>
</li>
<li><p>综合题：</p>
<ul>
<li>通信负载&#x3D;每个时隙的请求次数</li>
<li>纯ALOHA 最高0.184的负载</li>
<li>有效数据率一定要看有效的数据（不算头尾）</li>
<li>以太网帧的数据部分为1500B</li>
</ul>
</li>
</ul>
<h3 id="局域网"><a href="#局域网" class="headerlink" title="局域网"></a>局域网</h3><ul>
<li><p>基本概念和体系结构</p>
<ul>
<li>地理范围，站点数目有限</li>
<li>共享较高带宽</li>
<li>时延和误码率低</li>
<li>各站平等而非主从</li>
<li>能广播和组播</li>
<li>特性的决定因素<ul>
<li>拓扑结构、传输介质、介质访问控制</li>
<li>拓扑结构：星形、环形、总线型、星总结合复合结构</li>
<li>以太网：逻辑总线拓扑，物理星形or拓展星形</li>
<li>令牌环：逻辑环形拓扑，物理星形</li>
</ul>
</li>
<li>数据链路层的两个子层<ul>
<li>逻辑链路控制子层<ul>
<li>识别网络层协议，为网络层服务，服务类型（连接 确认 与否）</li>
</ul>
</li>
<li>介质访问控制子层   <ul>
<li>数据帧装解、帧寻址、识别、信道分配、差错检测、透明传输</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>以太网与IEEE 802.3</p>
<ul>
<li>使用CSMA&#x2F;CD</li>
<li>802.3局域网简称为以太网</li>
<li>无连接、不对数据帧编号、不要求确认、最大努力交付、不可靠服务</li>
<li>差错的纠正高层完成</li>
<li>曼彻斯特编码</li>
<li>网卡出厂为一代码，MAC地址</li>
<li>MAC地址6字节，xx-xx-xx-xx-xx-xx</li>
<li>高24厂商 低24自行分配</li>
<li>P111以太网MAC帧格式  注意数据部分1500字节最多 MAC帧收尾一共18字节 ⭐️</li>
</ul>
</li>
<li><p>高速以太网</p>
<ul>
<li>100BASE-T（速度 基带 双绞线）<ul>
<li>可以全双工也可以半双工</li>
<li>全双工不用CSMA&#x2F;CD</li>
</ul>
</li>
<li>吉比特以太网<ul>
<li>半双工使用CSMA&#x2F;CD</li>
<li>全双工不用</li>
</ul>
</li>
<li>10吉比特以太网<ul>
<li>只在全双工方式，无争用问题，不用CSMA&#x2F;CD</li>
</ul>
</li>
<li>灵活、易于安装、稳定</li>
</ul>
</li>
<li><p>IEEE 802.11 WiFi</p>
<ul>
<li>区别AP 源地址 目的地址</li>
</ul>
</li>
<li><p>VLAN的基本概念和基本原理</p>
<ul>
<li>通过虚拟局域网技术把一个较大的局域网分割成为与地理位置无关的逻辑上的VLAN，每个VLAN都是一个很小的广播域</li>
</ul>
</li>
<li><p>课后习题</p>
<ul>
<li>以太网 无连接 不可靠 不对数据帧编号 也不要求回复确认</li>
<li>以太网 最大努力交付 纠错高层</li>
<li><strong>接受地址 发送地址 另一个地址</strong></li>
<li>虚拟局域网有效共享网络资源、简化网络管理、提高网络安全性</li>
<li>VLAN不能链路聚合</li>
</ul>
</li>
</ul>
<h3 id="广域网"><a href="#广域网" class="headerlink" title="广域网"></a>广域网</h3><ul>
<li><p>长距离网络，远超一个城市</p>
</li>
<li><p>是因特网的核心</p>
</li>
<li><p>PPP协议（Point to Point） ⭐️</p>
<ul>
<li>提供一种成帧方法 </li>
<li>使用串行线路通信</li>
<li>面向<strong>字节</strong>的协议</li>
<li>链路控制协议（LCP）</li>
<li>网络控制协议（NCP）</li>
<li>信息部分长度收到MTU限制 </li>
<li>为网络层协议建立和配置逻辑连接</li>
<li>无需使用CSMA&#x2F;CD 因为不是总线型 是点对点</li>
<li>要点<ul>
<li>差错检测但不纠错、无差错接受，CRC硬件</li>
<li>不支持多点线路</li>
<li>只支持全双工</li>
<li>可以运行不同的网络层协议</li>
<li>用硬件来完成比特填充</li>
<li>字符填充</li>
</ul>
</li>
</ul>
</li>
<li><p>课后习题：</p>
<ul>
<li>以太网是局域网的一种实现形式</li>
<li>广域网存储转发式</li>
<li>广域网通信子网分组交换</li>
<li>以太网也是分组交换</li>
<li>LCP协商数据联络层协议选项</li>
<li>PPP面相字节 HDLC面向比特</li>
</ul>
</li>
</ul>
<h3 id="数据链路层设备"><a href="#数据链路层设备" class="headerlink" title="数据链路层设备"></a>数据链路层设备</h3><ul>
<li><p>网桥</p>
<ul>
<li>连接网段</li>
<li>隔离冲突域</li>
<li>路径选择</li>
<li>工作在MAC子层</li>
</ul>
</li>
<li><p>局域网交换机 </p>
<ul>
<li>原理和特点<ul>
<li>多端口网桥，划分冲突域，每个工作站更高的带宽</li>
<li>检测从以太网端口来的源和目的地址的MAC地址，然后和内部的查找表比较，不在就插入，然后发向目的端口</li>
<li>交换机对工作站透明，开销小</li>
<li>可以方便实现VLAN</li>
<li>VLAN不及你进可以隔离冲突域、也可以隔离广播域</li>
<li>特点：<ul>
<li>以太网交换机每个端口直接与单台主机相连，全双工</li>
<li>多端口，无碰撞传输</li>
<li>即插即用</li>
<li>独占媒体带宽</li>
<li>交换速率高</li>
<li>采用直通式or存储转发式</li>
</ul>
</li>
</ul>
<p>	   </p>
</li>
<li>自学习功能 <ul>
<li>交换表的表项：一个MAC地址、连通MAC地址的交换机端口</li>
<li>不必人工配置，非常方便</li>
</ul>
</li>
</ul>
</li>
<li><p>课后习题</p>
<ul>
<li>网桥可以互联不同的物理层，不同的MAC子层以及不同速率的以太网</li>
<li>VLAN可以隔离冲突也可以隔离广播</li>
<li>路由器传输时延最大（越上层设备越大）</li>
<li>物理层笨蛋</li>
<li>链路层划冲突</li>
<li>网络层都划</li>
<li>交换机支持多用户同时通信（独占通信）</li>
<li>交换机多端口可并行传输</li>
<li>交换机要放在冲突多的局域网内</li>
<li>直通式不支持不同速率交换</li>
<li>存储转发式还会查正误 可靠</li>
</ul>
</li>
</ul>
<h2 id="C4-网络层"><a href="#C4-网络层" class="headerlink" title="C4 网络层"></a>C4 网络层</h2><h3 id="4-1-网络层的功能"><a href="#4-1-网络层的功能" class="headerlink" title="4.1 网络层的功能"></a>4.1 网络层的功能</h3><ul>
<li><p>向上提供简单灵活的、无连接的、尽最大努力交付的数据报服务</p>
</li>
<li><p>分组可能出错、丢失、重复、失序、超时</p>
</li>
<li><p>使得路由器比较简单，可靠由传输层负责</p>
</li>
<li><p>异构网络互联</p>
<ul>
<li>虚拟互联网就是逻辑互联网络</li>
<li>异构性是客观存在的</li>
<li>通过IP协议就可以使这些性能各异的网络在网络层统一</li>
<li>使用IP协议的虚拟互联网络称为IP网络</li>
<li>异构网络是物理层和数据链路层协议不同</li>
</ul>
</li>
<li><p>路由和转发</p>
<ul>
<li>路由器完成的功能<ul>
<li>路由选择</li>
<li>分组转发</li>
</ul>
</li>
</ul>
</li>
<li><p>SDN （软件定义网络）</p>
<ul>
<li>网络层抽象划分为：数据层面和控制层面<ul>
<li>数据平面（转发层面）</li>
<li>控制层面</li>
</ul>
</li>
<li>北向接口：SDN提供的编程API</li>
<li>南向接口：SDN控制器和转发设备建立双向会话的接口<ul>
<li>（Openflow是其中协议）</li>
</ul>
</li>
<li>集中控制、分布式高速转发、可编程</li>
<li>安全风险，集中易受攻击，随着网络规模扩大</li>
<li>路由器之间不再交换信息，由远程控制器给出</li>
<li>控制和转发功能相分离</li>
<li>控制层面集中化</li>
<li>源主机和目的路由器都不知道IP分组需要经过的完整路径</li>
</ul>
</li>
<li><p>拥塞控制</p>
<ul>
<li>过量分组而引起网络性能下降</li>
</ul>
</li>
</ul>
<h3 id="4-2-路由算法"><a href="#4-2-路由算法" class="headerlink" title="4.2 路由算法"></a>4.2 路由算法</h3><ul>
<li><p>静态路由与动态路由</p>
<ul>
<li>静态路由算法（非自适应路由算法）<ul>
<li>网络管理员手动配置路由信息</li>
<li>需要手工修改</li>
<li>适合小型网络</li>
</ul>
</li>
<li>动态路由算法（自适应路由算法） <ul>
<li>路由器上的路由表项通过互联的路由器之间彼此交换信息</li>
<li>一定的间隙不断更新，以适应不断变化的网络</li>
<li>适合大型网络</li>
</ul>
</li>
</ul>
</li>
<li><p>距离-向量路由算法</p>
<ul>
<li>路由选择表包含<ul>
<li>每条路径的目的地</li>
<li>路径的代价</li>
</ul>
</li>
<li>跳数作为距离的度量 </li>
<li>相比、替换</li>
<li>好消息传得快、坏消息传得慢</li>
</ul>
</li>
<li><p>链路状态路由算法</p>
<ul>
<li>OSPF为经典的链路状态算法</li>
<li>洪泛法：路由器通过所有端口向相邻路由器发送信息，然后相邻路由器再发出</li>
<li>链路状态的“度量”主要用来表示费用、距离、时延、带宽</li>
<li>链路状态变化才向所有路由器发送此信息</li>
<li>比距离向量算法有更好的规模可扩展性</li>
</ul>
</li>
<li><p>层次路由</p>
<ul>
<li>自治系统内部：内部网关协议、域内路由选择<ul>
<li>RIP OSPF</li>
</ul>
</li>
<li>自治系统之间：外部网关协议、域间路由选择<ul>
<li>BGP</li>
</ul>
</li>
</ul>
</li>
<li><p>课后习题：</p>
<ul>
<li>++– 相邻传递 没啥好说的</li>
<li>OSPF洪泛，不仅仅各自的路由表，洪泛</li>
<li>快速收敛</li>
<li>全网路由器的拓扑数据库一致</li>
<li>路由信息变化，不能快速被全部路由器知道，慢收敛现象，路由回路</li>
<li>路由选择分直接交付和间接交付</li>
<li>一个网段内，即相同的子网就会进行直接交付</li>
<li>直接交付不涉及路由器</li>
</ul>
</li>
</ul>
<h3 id="IPv4"><a href="#IPv4" class="headerlink" title="IPv4"></a>IPv4</h3><ul>
<li>IPv4分组<ul>
<li>格式<ul>
<li>版本 0100 0110</li>
<li>首部长度 最短 0101 单位4B</li>
<li>区分服务 8位</li>
<li>总长度 16位 <ul>
<li>数据报最大长度为 2^16 -1 65535B字节</li>
<li>以太网帧的最大传送单元为MTU 1500B  首部最短20B</li>
</ul>
</li>
<li>标识：16位 代表分成了几片（每个分片内这个不变）</li>
<li>标志：3位<ul>
<li>中间位DF 0才允许分 </li>
<li>最低位MF 1表示后面还有分片</li>
</ul>
</li>
<li>片偏移：13位<ul>
<li>表示在原来分组中的相对位置 </li>
<li>单位8B 1480 偏移就是185（1480&#x2F;8）</li>
</ul>
</li>
<li>生存时间：8位 转发前TTL-1 0就丢弃<ul>
<li>不会一直循环，寿命</li>
</ul>
</li>
<li>协议：8位<ul>
<li>应该交给哪个上层协议：6：TCP 17：UDP</li>
</ul>
</li>
<li>首部校验和</li>
<li>源地址：32位 IP</li>
<li>目的地址：32位 IP</li>
</ul>
</li>
</ul>
</li>
<li>IPv4地址 ⭐️<ul>
<li>32比特、全球唯一标识符</li>
<li>分类的IP地址（P153 看看最大可用的网络数）</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>分类IP地址</th>
<th>网络号</th>
<th>主机号</th>
<th>特征</th>
</tr>
</thead>
<tbody><tr>
<td>A</td>
<td>8</td>
<td>24</td>
<td>网络号0开头</td>
</tr>
<tr>
<td>B</td>
<td>16</td>
<td>16</td>
<td>网络号10开头</td>
</tr>
<tr>
<td>C</td>
<td>24</td>
<td>8</td>
<td>网络号110开头</td>
</tr>
<tr>
<td>D</td>
<td>多播地址</td>
<td></td>
<td>网络号1110开头</td>
</tr>
<tr>
<td>E</td>
<td>保留为今后使用</td>
<td></td>
<td>网络号1111开头</td>
</tr>
</tbody></table>
<ul>
<li><p>IPv4</p>
<ul>
<li>主机号全0：网络本身</li>
<li>主机号全1：本网络的广播地址、直接广播地址</li>
<li>127.x.x.x表示环回自检地址</li>
<li>32全0：0.0.0.0表示本网络的本主机</li>
<li>32全1：整个TCP&#x2F;IP网络的广播地址，受限广播地址</li>
<li>IP地址特点<ul>
<li>IP地址机构在分配IP地址时只分配网络号，主机号自行分配</li>
<li><strong>路由器仅仅根据目标主机连接的网络号来转发分组，不关心目标主机号</strong>	</li>
<li>一台主机同时连接到两个网络，必须有两个相应IP地址，每个IP地址网络号必须和所在网络的网络号相同，且这两个IP地址的网络号不同</li>
<li>因此一个IP网络上路由器至少具有两个IP地址，每个端口至少一个</li>
<li>转发器、桥接器连接的必定是一个网络（同一个广播域）</li>
</ul>
</li>
</ul>
</li>
<li><p>网络地址转换（NAT）</p>
<ul>
<li>通过将专用网络地址转换为公用网络地址（NAT完成）</li>
<li>隐藏内部管理的IP地址</li>
<li>私有IP地址，专用互联网、本地互联网 ⭐️<ul>
<li>10.0.0.0-10.255.255.255</li>
<li>172.16.0.0-172.31.255.255</li>
<li>192.168.0.0-192.168.255.255</li>
</ul>
</li>
<li>普通路由器转发时不改变源IP与目的IP地址</li>
<li>NAT路由器转发的时候要更换</li>
</ul>
</li>
<li><p>子网划分、与子网掩码、CIDR</p>
<ul>
<li>子网划分 <ul>
<li><strong>主机号</strong>部分再进行划分</li>
<li>不改变原来的网络号</li>
<li>子网号不能全1&#x2F;0</li>
</ul>
</li>
<li>子网掩码<ul>
<li>没有划分子网就用默认子网掩码</li>
<li>用了子网划分就再加</li>
<li>一个子网内，子网掩码相同</li>
<li>路由表中包含目的网络地址、子网掩码、下一条地址</li>
</ul>
</li>
<li>CIDR 无分类域间路由选择<ul>
<li>网络前缀+主机号</li>
<li>消除ABC类网络的划分</li>
<li>实现构成超网构造的一种IP划分方法</li>
<li>不使用子网，但分配到一个CIDR地址块的组织可以自己划分</li>
<li>网络前缀都相同的连续IP地址组成CIDR地址块</li>
<li>一个地址块可以表示很多地址，地址的聚合叫路由聚合或者构成超网<ul>
<li>网络1 206 1 0 0&#x2F;17</li>
<li>网络2 206 1 128 0&#x2F;17</li>
<li>路由聚合可以把这两个变成更大的地址块206 1 0 0 &#x2F;16</li>
<li>可指派的要-2 网络号和广播地址</li>
</ul>
</li>
<li>要匹配结果中具有最长网络前缀的路由，越长地址块越具体</li>
</ul>
</li>
<li>转发分组的过程<ul>
<li>转发表中需要目的网络、下一跳地址</li>
<li>到达最后一个路由器才试图交付</li>
<li>CIDR时如果分组在转发表可以找到多个匹配的前缀，应该选择最长的</li>
<li>特殊路由<ul>
<li>主机路由</li>
<li>默认路由</li>
</ul>
</li>
<li>得到下一跳路由器IP地址，并不是直接将该地址填入待发送的数据报，而是将IP地址转成MAC地址（ARP），然后MAC地址放到MAC帧首部，根据MAC地址找到下一跳路由器</li>
<li>网桥转发帧不改变帧的源地址</li>
</ul>
</li>
</ul>
</li>
<li><p>ARP、DHCP、ICMP</p>
<ul>
<li>IP地址与硬件地址<ul>
<li>IP地址网络层及其以上用、MAC地址链路层用</li>
<li>IP数据报封装成MAC帧链路层看不见IP地址</li>
<li>IP分组通过多次路由转发到目标网络改为在目标LAN中通过数据链路以MAC地址广播寻址</li>
<li>路由器还有多个硬件地址</li>
</ul>
</li>
<li>地址解析协议 ARP<ul>
<li>无论网络层用什么协议实际链路都要用硬件地址</li>
<li>需要IP地址到MAC地址映射</li>
<li>每个主机有ARP高速缓存存放本局域网上各主机和路由器的IP地址到MAC地址映射表</li>
<li>这个表叫ARP表</li>
<li>流程<ul>
<li>先查高速缓存</li>
<li>没有的话就通过源和目的IP加本机器MAC地址广播一个ARP请求分组</li>
<li>然后需要的人收到了单播发回一个ARP响应分组</li>
<li>响应分组包含要请求的IP和MAC映射关系</li>
<li>写入源的ARP高速缓存然后根据查到的MAC地址转发</li>
<li>需要经过路由器的就交给路由器吧</li>
<li>外面的就走默认网关IP（需要先通过广播ARP请求分组知道默认网关的MAC）</li>
</ul>
</li>
<li>ARP协议自动进行</li>
</ul>
</li>
<li>动态主机配置协议 DHCP ⭐️ 需要补充<ul>
<li>DHCP是应用层协议，基于UDP</li>
<li>给主机动态的分配IP地址</li>
<li>IP地址是临时的，DHCP客户只能在一段有限时间内使用，时间DHCP服务器定</li>
</ul>
</li>
<li>网际控制报文协议 ICMP 基于IP<ul>
<li>ICMP差错报告报文<ul>
<li>终点不科达</li>
<li>源点抑制（拥塞）</li>
<li>时间超过（TTL&#x3D;0）</li>
<li>参数问题（首部值）</li>
<li>改变路由（重定向） </li>
<li>差错报文不发差错报文</li>
<li>第一个数据报片发了后续的分片都不发</li>
<li>组播地址不发</li>
<li>特殊地址不发</li>
</ul>
</li>
<li>ICMP询问报文<ul>
<li>回送请求和回答报文（常用</li>
<li>时间戳请求和回答报文（常用</li>
<li>地址掩码请求和回答报文</li>
<li>路由器询问和通告报文</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>课后习题：</p>
<ul>
<li>PING在应用层，直接用网络层的ICMP，不用TCPorUDP </li>
<li>协议字段是上层，版本字段是v4v6</li>
<li>检验和只检查分组首部</li>
<li>分组目的主机重组</li>
<li>超过MTU DF&#x3D;1 丢弃 然后ICMP报告</li>
<li>子网减少广播域大小</li>
<li>CIDR 构成超网</li>
<li>一个主机两个IP地址要有不同的网络号</li>
<li>私有地址不允许出现在因特网上</li>
<li>ICMP报文丰庄在IP数据报中</li>
<li>IP缺乏差错控制，因此有了ICMP</li>
<li>IP为ICMP服务</li>
<li><strong>能不能访问NAT路由器（看默认网关）决定能不能上网</strong></li>
<li>连接不到路由器，也会影响网段内通信</li>
<li>0.0.0.0 默认路由</li>
<li>广播地址只能作为目的不能作为源 </li>
<li>0.0.0.0本主机在本网络源地址 </li>
<li>CIDR一个表项代表多个表象 网络前缀+主机号</li>
<li>子网划分 定长（均匀）不定长 </li>
<li>子网看看前缀</li>
<li>片偏移8的整数倍</li>
</ul>
</li>
</ul>
<h3 id="IPv6"><a href="#IPv6" class="headerlink" title="IPv6"></a>IPv6</h3><ul>
<li>采用分类别编地址CIDR</li>
<li>使用NAT</li>
<li>采用具有更大的地址空间的IPv6</li>
<li>8B的整数倍（v4 4）</li>
<li>v4可以再路由器和主机分片</li>
<li>v6只能在主机分</li>
<li>双冒号 代替连串0 只能一次</li>
<li>没有校验和字段</li>
<li>单播可以作为源头和目的</li>
<li>多播只能作为目的</li>
<li>任播（独有）只能作为目的</li>
<li>首部长度固定，不需要首部和字段</li>
</ul>
<h3 id="路由协议"><a href="#路由协议" class="headerlink" title="路由协议"></a>路由协议</h3><ul>
<li><p>自治系统AS</p>
</li>
<li><p>域内路由和域间路由</p>
<ul>
<li>内部网关协议 IGP<ul>
<li>RIP ：基于距离-向量的路由选择协议<ul>
<li>适合小网络 简单</li>
<li>路由表<ul>
<li>目的网络、距离、下一跳路由器 </li>
<li>最多15 16不可达</li>
<li>距离1就是直接交付</li>
<li>仅和相邻路由器交换自己的路由表信息</li>
<li><strong>UDP</strong></li>
<li>找跳数最少</li>
<li>30s交换一次 180s不交换就死了</li>
<li>经过若干次更新 收敛</li>
<li>出故障 慢收敛 好消息快 坏消息慢</li>
<li>应用层协议 借用UDP</li>
</ul>
</li>
</ul>
</li>
<li>OSPF：开放最短路径优先协议<ul>
<li>使用了最短路径算法 SPF</li>
<li>Dijkstra提出的</li>
<li>洪泛而不是相邻 网络上的所有路由器 </li>
<li>交换相邻所有路由器的链路状态</li>
<li>基于 链路状态路由算法 代价（费用 距离 时延 带宽）</li>
<li>链路变化才发送</li>
<li>IP</li>
<li>适合大规模网络</li>
<li>收敛速度很快</li>
<li>30min刷新数据库中的链路状态</li>
<li>重要的路由器<ul>
<li>主干路由器</li>
<li>区域边界路由器</li>
<li>自治系统边界路由器</li>
<li>区域内部路由器</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>外部网关协议 EGP<ul>
<li>BGP-4    <ul>
<li>与其他AS的邻站BGP发言人交换信息（自治系统边界） </li>
<li>交换网络可达性信息（到达某个网络要经过一系列的AS）完整路径</li>
<li>变化才通知</li>
<li>找到较好的 不一定最佳的</li>
<li>基于TCP BGP应用层协议 借助TCP传送</li>
<li>基于路径-向量算法</li>
<li>首次交换整个路由表</li>
<li>非首次交换变化部分</li>
</ul>
</li>
</ul>
</li>
<li>RU IO BT</li>
</ul>
</li>
<li><p>路由信息协议</p>
<ul>
<li>RIP</li>
<li>OSPF</li>
</ul>
</li>
<li><p>边界网关协议BGP</p>
</li>
</ul>
<h3 id="IP组播"><a href="#IP组播" class="headerlink" title="IP组播"></a>IP组播</h3><ul>
<li><p>单播：点对点</p>
</li>
<li><p>广播：点对多点</p>
</li>
<li><p>组播（多播）：点对多点，组播组</p>
<ul>
<li>UDP（尽最大努力交付）</li>
<li>到最近的结点才复制分发</li>
<li>IP组播地址，同组同一个组播IP地址</li>
<li>224.0.0.0-239.255.255.255 只能作为目标地址</li>
<li>D类地址</li>
<li>组播不产生ICMP</li>
<li>不是所有D类都可以作为组播地址</li>
<li>01-00-5E，剩下根据IP组播地址映射最后23位置（最低第24位是0）<ul>
<li>IP层软件过滤，不是本主机的就丢弃</li>
</ul>
</li>
</ul>
</li>
<li><p>网际组管理协议IGMP 利用IP传递（ICMP也是）</p>
<ul>
<li>让路由器知道本局域网是否有主机加入或者退出某个组播组</li>
</ul>
</li>
<li><p>课后习题</p>
<ul>
<li>组播转发树避免路由环路</li>
<li>映射没啥好说的 </li>
<li>组播地址：	 224.0.0.0-239.255.255.255 </li>
<li>单播：一个接口转发收到的分组</li>
<li>多播：多个接口转发</li>
</ul>
</li>
</ul>
<h3 id="移动IP"><a href="#移动IP" class="headerlink" title="移动IP"></a>移动IP</h3><ul>
<li>移动IP<ul>
<li>固定IP地址</li>
</ul>
</li>
<li>移动结点：永久IP移动设备</li>
<li>归属代理：本地代理（移动结点一开始的地方，可以是路由器）</li>
<li>永久地址（归属地址）：移动站点在归属网络的原始地址</li>
<li>外部代理：在外部网络中帮助移动结点完成移动管理功能的实体</li>
<li>转交地址：外部代理的地址or动态配置的</li>
</ul>
<h3 id="网络层设备"><a href="#网络层设备" class="headerlink" title="网络层设备"></a>网络层设备</h3><ul>
<li><p>路由器 </p>
<ul>
<li>有多个输入多个输出的专用计算机，用来转发分组</li>
<li>路线选择<ul>
<li>构造路由表，更新和维护</li>
</ul>
</li>
<li>分组转发<ul>
<li>根据转发表对分组进行转发</li>
<li>从一个输入端口到一个输出端口就是转发，内部</li>
<li>路由选择是选一个合适的路径，外部</li>
<li>输入输出队列溢出 排队导致丢失</li>
</ul>
</li>
</ul>
</li>
<li><p>三层设备</p>
<ul>
<li>路由器：可以互联两个不同网络层协议的网段</li>
<li>网桥：可以互联两个物理层和链路层不同的网段</li>
<li>集线器： 不能互联两个物理层不通网段</li>
</ul>
</li>
<li><p>路由表来源于路由选择算法</p>
</li>
<li><p>转发表来源于路由表</p>
<ul>
<li>可以硬件也可以软件</li>
</ul>
</li>
<li><p>路由表</p>
<ul>
<li>目的网络IP地址、子网掩码、下一跳IP地址、接口</li>
</ul>
</li>
<li><h2 id="转发表（分组实际转发依靠直接查找转发表）"><a href="#转发表（分组实际转发依靠直接查找转发表）" class="headerlink" title="转发表（分组实际转发依靠直接查找转发表）"></a>转发表（分组实际转发依靠直接查找转发表）</h2></li>
<li><p>交换机的交换表（也是自学习）</p>
<ul>
<li>MAC地址 接口</li>
</ul>
</li>
</ul>
<h2 id="C5-传输层"><a href="#C5-传输层" class="headerlink" title="C5 传输层"></a>C5 传输层</h2><h3 id="传输层提供的服务"><a href="#传输层提供的服务" class="headerlink" title="传输层提供的服务"></a>传输层提供的服务</h3><ul>
<li><p>运输层寻址与端口</p>
</li>
<li><p>无连接服务和面相连接的服务</p>
</li>
<li><p>向应用层提供通信服务</p>
</li>
<li><p>运输层是面向通信的最高层，用户功能中的最底层</p>
</li>
<li><p>为不同主机的进程提供了逻辑通信（端到端），网络层提供了主机之间的逻辑通信</p>
</li>
<li><p>运输层可以提供可靠的服务</p>
</li>
<li><p>网络层通信双方是主机</p>
</li>
<li><p>主机通信的本质是进程通信，又叫端到端的逻辑通信</p>
</li>
<li><p>逻辑通信：运输层之间的通信好像水平传输</p>
</li>
<li><p>复用：发送方不同的应用进程都可以使用同一个传输层协议传输数据</p>
</li>
<li><p>分用：接收方的传输层剥去首部可以把数据交付给目的应用进程</p>
</li>
<li><p>网络层也有复用分用，不同协议的数据都可以封装到IP数据报，分用之后在对方网络层剥去首部交给相应的协议</p>
</li>
<li><p>传输层还要对报文差错检测，网络层只检查IP数据报首部</p>
</li>
<li><p>分组交换：虚电路 or 数据报</p>
<ul>
<li>面相连接TCP 虚电路</li>
<li>无连接UDP 数据报</li>
</ul>
</li>
<li><p>传输层向高层屏蔽了低层网络核心的细节，让应用进程看见的是在两个传输层实体之间好像有一个端到端的逻辑通信信道</p>
</li>
<li><p>TCP时，尽管下面不可靠（最大努力交付），但依旧相当于全双工可靠信道</p>
</li>
<li><p>UDP时，依旧不可靠</p>
</li>
<li><p>传输层的寻址和端口</p>
<ul>
<li>端口的作用<ul>
<li>让应用层的各种应用进程将其数据通过端口交付给运输层，以及让传输层知道应该吧报文交给那个进程，端口事运输层的服务访问点</li>
<li>类似于IP地址在网络层的作用</li>
<li>类似于MAC地址在数据链路层的作用</li>
<li>不过IP表示网络、MAC标志的是主机、端口表示的是应用进程</li>
</ul>
</li>
<li>端口号<ul>
<li>长度为16bit 能表示65536个不同的端口号</li>
<li>端口号只具有本地意义，表示本计算机应用层中的各个进程</li>
<li>服务器端用的端口号<ul>
<li>熟知端口号：0-1023<ul>
<li>FTP：21</li>
<li>TELNET：23</li>
<li>SMTP：25</li>
<li>DNS：53</li>
<li>TFTP：69</li>
<li>HTTP：80</li>
<li>SNMP ：161</li>
</ul>
</li>
<li>登记端口号：1024-49151</li>
</ul>
</li>
<li>客户端使用的端口号  49152-65535<ul>
<li>临时端口号：客户进程运行时动态选择，又叫短暂端口号</li>
<li>可重复使用，通信结束不复存在</li>
</ul>
</li>
</ul>
</li>
<li>套接字<ul>
<li>网络中IP地址标识和区别不同的主机</li>
<li>通过端口号来表示不同进程</li>
<li>端口号频道IP地址就成为了套接字</li>
<li>唯一标识网络中一台主机和上面的一个应用</li>
<li>A给B的源端口号，就是B给A的目的端口号</li>
</ul>
</li>
</ul>
</li>
<li><p>无连接和面相连接服务</p>
<ul>
<li><strong>TCP：FTP、HTTP、TELNET</strong></li>
<li><strong>UDP：TFTP、DNS、SNMP、RTP</strong></li>
</ul>
</li>
<li><p>课后习题</p>
<ul>
<li>传输层不属于通信子网</li>
<li>端到端就是传输层</li>
<li>传输层为进程逻辑通信，保证可靠和顺序交付</li>
<li>IP、和TCP固定首部都是20B</li>
<li>UDP的话，应用层必须承担可靠性方面的工作</li>
</ul>
</li>
</ul>
<h3 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h3><ul>
<li>UDP数据报<ul>
<li>概述：增加了两个基本的服务，复用分用和差错检测</li>
<li>选了UDP，进程几乎直接和IP打交道</li>
<li>优点<ul>
<li>无需建立连接：从建立角度</li>
<li>无连接状态 ：不需要维护连接、从维护角度</li>
<li>首部仅8B TCP20B</li>
<li>应用层能控制数据发送和时间，UDP没有拥塞控制</li>
<li>网络中的拥塞不会影响主机发送效率</li>
<li>支持一对一、一对多、多对一、多对多</li>
<li>容忍一些数据的丢失，不容忍时间延迟</li>
</ul>
<p>	 </p>
</li>
<li>适合一次传输少数据的网络饮用，DNS、SMTP</li>
<li>不保证可靠交付，但不意味应用对数据的要求不可靠，可靠应用层完成</li>
<li>开发者设计可靠机制</li>
<li>UDP面向报文。报文是UDP数据报处理的最小单位</li>
<li>应用程序必须选择大小合适的，否则会分片，或者首部太长，IP层效率不高</li>
</ul>
</li>
<li>UDP首部格式（2Bx4）<ul>
<li>源端口</li>
<li>目的端口</li>
<li>长度：UDP数据报的长度，最小值是8，1B为单位</li>
<li>校验和 ：可选的，不想算就直接0</li>
</ul>
</li>
<li>UDP校验<ul>
<li>计算校验和的时候要在UDP数据报之前加入12B的伪首部，但并不是真正的<ul>
<li>源IP 目的IP UDP长度</li>
</ul>
</li>
<li>计算时临时添加，不向下不向上，只为了计算校验和</li>
<li>IP只校验首部</li>
<li>UDP校验首部和数据部分</li>
<li>UDP数据部分变成偶数个字节，全部加起来</li>
<li>然后二进制反码计算和</li>
<li>接收方求16位字的和应该全1否则丢弃</li>
<li>校验能力不强，但简单，快速</li>
</ul>
</li>
</ul>
<h3 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h3><ul>
<li>TCP协议的特点<ul>
<li>在不可靠的IP层上实现</li>
<li>可靠、有序、无丢失、不重复</li>
<li>特点<ul>
<li>面相连接的传输层协议，逻辑链接</li>
<li>只能有两个端点，只能端到端（进程对进程）</li>
<li>全双工，有发送缓存和接受缓存</li>
<li>面向字节流，虽然应用程序和TCP交互是一次一个数据块</li>
<li>TCP把应用程序给的数据就当成一连串无结构数据流</li>
</ul>
</li>
<li>UDP长度由应用程序缺点，TCP长度根据接收方给出的窗口值和网络拥塞程度决定</li>
</ul>
</li>
<li>TCP报文段<ul>
<li>TCP传送的数据单元成为报文段</li>
<li>不仅可以运载数据，又可以建立连接、释放链接、应答</li>
<li>TCP报文可以分为首部和数据两部分</li>
<li>TCP报文段作为IP数据包的数据部分装在IP数据报中</li>
<li>20B固定，最短20B</li>
<li>4N字节根据长度增加</li>
<li>字段意义<ul>
<li>源端口 目的端口 各2B</li>
<li>**序号4B：<ul>
<li>面向字节流，每个字节按顺序编号</li>
<li>序号字段的值是指本报文段发送的第一个字节的序号 seq**</li>
</ul>
</li>
<li><strong>确认号：期望收到对方下一个报文断的第一个数据字节序号 ack</strong></li>
<li>数据偏移：并不是分片的数据便宜，而是表示首部长度，表示数据开始距离起始多远</li>
<li>保留：未来用</li>
<li>紧急位 URG&#x3D;1则紧急指针有效</li>
<li>确认位 ACK&#x3D;1 确认号字段才有效</li>
<li>推送位 PSH&#x3D;1 要尽快给进程，而不是填满</li>
<li>复位位 RST&#x3D;1 连接严重差错，需要释放链接重新建立</li>
<li>同步位 SYN&#x3D;1 代表连接请求或连接接受请求<ul>
<li>SYN&#x3D;1 ACK&#x3D;0 连接请求报文</li>
<li>SYN&#x3D;1 ACK&#x3D;1 表示同意建立连接</li>
</ul>
</li>
<li>终止位 FIN&#x3D;1 代表发送完毕，请求释放</li>
<li>窗口：允许对方发送的数据量</li>
<li>校验和：校验数据和首部2部分，12B伪首部（相比UDP只有协议字段不通）<ul>
<li>紧急指针（URG&#x3D;1才有意义）紧急数据共有多少字节</li>
</ul>
</li>
<li>选项报文数据字段最大长度</li>
<li>填充：4B整数倍</li>
</ul>
</li>
</ul>
</li>
<li>TCP连接管理<ul>
<li>TCP连接的端点是套接字</li>
<li>三次握手<ul>
<li><strong>SYN&#x3D;1</strong> seq&#x3D;x </li>
<li><strong>SYN&#x3D;1</strong> ACK&#x3D;1 seq&#x3D;y ack&#x3D;x+1</li>
<li>ACK&#x3D;1 seq&#x3D;x+1 ack&#x3D;y+1</li>
<li>只有你先说了你的seq 我才能计算我对你的ack </li>
<li>客户机资源在完成第三次握手时分配</li>
</ul>
</li>
<li>四次挥手<ul>
<li><strong>FIN&#x3D;1</strong> seq&#x3D;u</li>
<li>ACK&#x3D;1 seq&#x3D;v ack&#x3D;u+1</li>
<li><strong>FIN&#x3D;1</strong> ACK&#x3D;1 seq&#x3D;w ack&#x3D;u+1（半关闭状态服务器又发送了一些数据可能）</li>
<li>ACK&#x3D;1 seq&#x3D;u+1 ack&#x3D;w+1</li>
</ul>
</li>
</ul>
</li>
<li>TCP可靠传输	<ul>
<li>使用了校验、序号、确认和重传等机制来达到目的</li>
<li>序号</li>
<li>确认（积累确认）</li>
<li>重传<ul>
<li>超时：重传时间到期但未收到确认就重传</li>
<li>冗余ACK：收到失序就重传，快速重传</li>
</ul>
</li>
</ul>
</li>
<li>TCP流量控制<ul>
<li>滑动窗口</li>
</ul>
</li>
<li>TCP拥塞控制<ul>
<li>接受窗口rwnd：接收方根据目前接受缓存大小许诺的最新窗口值，反应接收方的容量</li>
<li>拥塞窗口cwnd：根据自己估算的网络拥塞程度而设置的窗口只，反应网络当前容量</li>
<li>发送窗口上限取小的那个</li>
<li>慢开始和拥塞避免<ul>
<li>慢开始算法：一开始cwnd&#x3D;1 指数翻倍增长 每次x2</li>
<li>拥塞避免算法：当cwnd&gt;ssthresh 就开始拥塞避免算法，每次+1<ul>
<li>ssthresh是慢开始门限</li>
</ul>
</li>
<li>网络拥塞的处理：门限&#x2F;2 从1慢开始</li>
<li>如果x2以后&gt;ssthresh 那就变成ssh </li>
<li>cwnd&#x3D;ssh用什么算法都行，拥塞避免多一些</li>
</ul>
</li>
<li>快重传和快回复  <ul>
<li>快重传<ul>
<li>收到三个重复的ACK，直接重传对面未收到的，不必等待超市计时器</li>
</ul>
</li>
<li>快回复<ul>
<li>cwnd&#x3D;ssthresh 且 都是拥塞时ssthresh的一半 避免慢开始过程</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>	   </p>
</li>
<li>课后习题<ul>
<li>TCP积累确认 </li>
<li>题目都很好，要学会变通，也要学会发现题目中的细小细节</li>
</ul>
</li>
</ul>
<h2 id="C6-应用层"><a href="#C6-应用层" class="headerlink" title="C6 应用层"></a>C6 应用层</h2><h3 id="网络应用模型"><a href="#网络应用模型" class="headerlink" title="网络应用模型"></a>网络应用模型</h3><ul>
<li>C&#x2F;S服务器模型<ul>
<li>整个网络的管理工作由少数服务器担当，因此网络管理集中又方便</li>
<li>客户机器之间不会直接通信</li>
<li>可扩展性不佳</li>
</ul>
</li>
<li>P2P模型	<ul>
<li>减轻服务器计算压力，消除了对某个服务器完全依赖，任务分配各个结点</li>
<li>多个客户机之间可以共享文档</li>
<li>可扩展性好</li>
<li>网络健壮性强</li>
<li>因为自己获取服务也要对其他人提供服务，会占用很多内存，P2P下载还损伤硬盘</li>
<li>反对态度</li>
</ul>
</li>
</ul>
<h3 id="域名系统（DNS）"><a href="#域名系统（DNS）" class="headerlink" title="域名系统（DNS）"></a>域名系统（DNS）</h3><ul>
<li>层次域名空间	<ul>
<li>顶级域名<ul>
<li>国家.cn、通用.com、基础结构域名，用于反向域名解析</li>
<li>二级域名</li>
<li>三级域名</li>
<li>四级域名</li>
</ul>
</li>
</ul>
</li>
<li>域名服务器<ul>
<li>根域名服务器</li>
<li>授权域名服务器</li>
<li>本地域名服务器</li>
</ul>
</li>
<li>域名解析过程<ul>
<li>递归查询（比较少用）</li>
<li>递归与迭代相结合的方式</li>
<li>具体过程：<ul>
<li>懒得整理 P262</li>
</ul>
</li>
</ul>
</li>
<li>习题<ul>
<li>注意细节 RTT </li>
<li>迭代 递归</li>
</ul>
</li>
</ul>
<h3 id="文件传输协议"><a href="#文件传输协议" class="headerlink" title="文件传输协议"></a>文件传输协议</h3><ul>
<li>FTP的工作原理<ul>
<li>（TFTP UDP）</li>
<li>可以屏蔽不同类型的计算机系统</li>
<li>为不同的主机系统提供文件传输</li>
<li>需要登录，工作原理<ul>
<li>FTP地址、用户名、密码、TCP</li>
<li>同意匿名登陆、访问公开文件</li>
<li>端口21（控制端口）</li>
</ul>
</li>
<li>FTP服务器<ul>
<li>一个主进程、n个从属进程、每个处理单个用户请求</li>
<li>控制进程</li>
<li>数据传输进程</li>
<li>都是从属的</li>
</ul>
</li>
<li>FTP客户机<ul>
<li>用户界面</li>
<li>控制进程</li>
<li>数据传输进程</li>
</ul>
</li>
</ul>
</li>
<li>控制链接和数据连接（这些端口都是服务器端口）<ul>
<li>控制链接 21端口<ul>
<li>始终保持</li>
</ul>
</li>
<li>数据连接 20端口（具体和传输模式）<ul>
<li>主动 20</li>
<li>被动 &gt; 1024  协商决定 </li>
<li>传送完毕就关闭</li>
</ul>
</li>
</ul>
</li>
<li>传输模式<ul>
<li>文本模式ASCII模式 文本序列传输数据</li>
<li>二进制模式 Binary模式 二进制序列传输数据</li>
</ul>
</li>
<li>控制信息带外传送 </li>
<li>习题：</li>
</ul>
<h3 id="电子邮件"><a href="#电子邮件" class="headerlink" title="电子邮件"></a>电子邮件</h3><ul>
<li>电子邮件系统的组成结构<ul>
<li>用户代理：电子邮件的客户端软件 Foxmail Outlook、也可以发送接收邮件，注意方向对象</li>
<li>发送方邮件服务器：发送接收邮件、报告传送结果</li>
<li>SMTP：发送 </li>
<li>POP3、IMAP收</li>
<li>发送邮件缓存</li>
<li>接受邮件缓存</li>
<li>TCP</li>
</ul>
</li>
<li>电子邮件格式与MIME<ul>
<li>信封 <a class="link"   href="mailto:&#120;&#120;&#120;&#64;&#x78;&#x78;&#x78;&#x2e;&#x63;&#111;&#x6d;" >&#120;&#120;&#120;&#64;&#x78;&#x78;&#x78;&#x2e;&#x63;&#111;&#x6d; <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li>内容<ul>
<li>首部：To subject等</li>
<li>主体</li>
</ul>
</li>
<li>MIME<ul>
<li>通用因特网邮件扩充MIME</li>
<li>把非ASCII码变成7位ASCII码</li>
<li>传输内容更加丰富多彩、多种数据类型</li>
<li>逐步用于浏览器</li>
</ul>
</li>
</ul>
<p>	  </p>
</li>
<li>SMTP与POP3	<ul>
<li>SMTP：25端口<ul>
<li>规定了两个相互通信的SMTP进程之间如何交换信息</li>
<li>发送的就是SMTP客户</li>
<li>接受的就是SMTP服务器</li>
<li>规定了14条命令和21种应答信息</li>
<li>通信阶段<ul>
<li>连接建立</li>
<li>邮件发送</li>
<li>连接释放</li>
</ul>
<p>	  </p>
</li>
<li>缺点：<ul>
<li>不能传送二进制文件or其他二进制对象</li>
<li>仅限于7位ASCII码，不能传输非英语国家文字</li>
<li>拒绝超过一定长度的邮件</li>
</ul>
</li>
</ul>
</li>
<li>POP3 <ul>
<li>只存在于最后一个环节</li>
<li>下载并保留</li>
<li>下载并删除</li>
</ul>
</li>
<li>IMAP协议<ul>
<li>用户想打开才传送到主机</li>
<li>否则只能看首部</li>
<li>允许只读区某一个部分</li>
<li>先看正文，有Wifi下载附件</li>
</ul>
</li>
</ul>
</li>
<li>基于万维网的电子邮件<ul>
<li>方便 各种不同邮件服务器护送</li>
<li>HTTP SMTP HTTP（代替第一个和第三个环节）</li>
</ul>
</li>
</ul>
<p>	      </p>
<h3 id="万维网"><a href="#万维网" class="headerlink" title="万维网"></a>万维网</h3><ul>
<li>WWW的概念与组成结构<ul>
<li>信息储藏所、资料空间</li>
<li>所有网站统一在一起</li>
<li>通过URL统一资源定位符来唯一标识资源（文字、视频、音频等）</li>
<li>URL一般形式：&lt;协议&gt;：&#x2F;&#x2F;&lt;主机&gt;：&lt;端口&gt;&#x2F;&lt;路径&gt;</li>
<li>HTTP用域名 or IP</li>
<li>ftp 用 IP</li>
<li>用HTML超文本标记语言让网页设计者可以从一个界面的链接到另一个</li>
</ul>
</li>
<li>HTTP超文本传输协议<ul>
<li>如何上网、如何请求资源</li>
<li>HTTP请求报文、相应报文（P279具体过程、看过图解HTTP的我轻松拿下啊）</li>
<li>无状态，无法识别用户，两次单机一样</li>
<li>实际应用需要识别用户Cookie</li>
<li>Cookie是存储于用户主机的文本文件、记录一段时间访问记录</li>
<li>无连接，交换HTTP报文之前不需要先建立HTTP链接</li>
<li>连接方式<ul>
<li>持久链接 Keep-Alive</li>
<li>非持久链接 Close<ul>
<li>想请求 再建立</li>
</ul>
</li>
</ul>
</li>
<li>HTTP报文结构<ul>
<li>面向文本，每个字段都是一些ASCII码串</li>
<li>请求报文</li>
<li>应答报文</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>	  </p>

            </div>

            
                <div class="post-copyright-info">
                    <div class="article-copyright-info-container">
    <ul>
        <li>Post title：408-net</li>
        <li>Post author：Picasun</li>
        <li>Create time：2023-02-15 16:05:42</li>
        <li>
            Post link：https://redefine.ohevan.com/2023/02/15/408-net/
        </li>
        <li>
            Copyright Notice：All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.
        </li>
    </ul>
</div>

                </div>
            

            

            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                            rel="prev"
                            href="/2023/02/15/408-os/"
                            >
                                <span class="left arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-left"></i>
                                </span>
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">408-os</span>
                                    <span class="post-nav-item">Prev posts</span>
                                </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                            rel="next"
                            href="/2023/02/15/408-ds/"
                            >
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">408-ds</span>
                                    <span class="post-nav-item">Next posts</span>
                                </span>
                                <span class="right arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-right"></i>
                                </span>
                            </a>
                        </div>
                    
                </div>
            


            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">On this page</div>
        <div class="page-title">408-net</div>
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#25%E2%80%99"><span class="nav-text">25’</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%A9%E5%86%99%E4%B8%8E%E7%89%A9%E7%90%86%E8%AE%BE%E5%A4%87%E7%BB%9F%E8%AE%A1"><span class="nav-text">缩写与物理设备统计</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82"><span class="nav-text">应用层</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E8%BE%93%E8%88%B9"><span class="nav-text">运输船</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="nav-text">网络层</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="nav-text">数据链路层</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%A9%E7%90%86%E5%B1%82"><span class="nav-text">物理层</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#C1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="nav-text">C1 计算机网络体系结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0"><span class="nav-text">计算机网络概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E4%B8%8E%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="nav-text">计算机网络体系结构与参考模型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%88%90%E5%B8%A7%E3%80%81%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6%E3%80%81%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6%E3%80%81%E4%BC%A0%E8%BE%93%E7%AE%A1%E7%90%86%EF%BC%88%E6%B2%A1%E6%9C%89%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%EF%BC%81%EF%BC%89"><span class="nav-text">成帧、差错控制、流量控制、传输管理（没有拥塞控制！）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#C2-%E7%89%A9%E7%90%86%E5%B1%82"><span class="nav-text">C2 物理层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80"><span class="nav-text">通信基础</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%A0%E8%BE%93%E4%BB%8B%E8%B4%A8"><span class="nav-text">传输介质</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%A9%E7%90%86%E5%B1%82%E8%AE%BE%E5%A4%87-%E2%AD%90%EF%B8%8F"><span class="nav-text">物理层设备 ⭐️</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#C3-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="nav-text">C3 数据链路层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="nav-text">数据链路层的功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E5%B8%A7-%E2%AD%90%EF%B8%8F"><span class="nav-text">组帧 ⭐️</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6"><span class="nav-text">差错控制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6%E5%92%8C%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E6%9C%BA%E5%88%B6"><span class="nav-text">流量控制和可靠传输机制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="nav-text">介质访问控制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="nav-text">局域网</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B9%BF%E5%9F%9F%E7%BD%91"><span class="nav-text">广域网</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="nav-text">数据链路层设备</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#C4-%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="nav-text">C4 网络层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E7%BD%91%E7%BB%9C%E5%B1%82%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="nav-text">4.1 网络层的功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95"><span class="nav-text">4.2 路由算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IPv4"><span class="nav-text">IPv4</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IPv6"><span class="nav-text">IPv6</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE"><span class="nav-text">路由协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IP%E7%BB%84%E6%92%AD"><span class="nav-text">IP组播</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A7%BB%E5%8A%A8IP"><span class="nav-text">移动IP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="nav-text">网络层设备</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BD%AC%E5%8F%91%E8%A1%A8%EF%BC%88%E5%88%86%E7%BB%84%E5%AE%9E%E9%99%85%E8%BD%AC%E5%8F%91%E4%BE%9D%E9%9D%A0%E7%9B%B4%E6%8E%A5%E6%9F%A5%E6%89%BE%E8%BD%AC%E5%8F%91%E8%A1%A8%EF%BC%89"><span class="nav-text">转发表（分组实际转发依靠直接查找转发表）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#C5-%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="nav-text">C5 传输层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="nav-text">传输层提供的服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UDP"><span class="nav-text">UDP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP"><span class="nav-text">TCP</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#C6-%E5%BA%94%E7%94%A8%E5%B1%82"><span class="nav-text">C6 应用层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E6%A8%A1%E5%9E%8B"><span class="nav-text">网络应用模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F%EF%BC%88DNS%EF%BC%89"><span class="nav-text">域名系统（DNS）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE"><span class="nav-text">文件传输协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6"><span class="nav-text">电子邮件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%87%E7%BB%B4%E7%BD%91"><span class="nav-text">万维网</span></a></li></ol></li></ol></li></ol>

    </div>
</div>
            </div>
        
    </div>
</div>


                

            </div>



        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info">
            &copy;
            
              <span>2022</span>
              -
            
            2023&nbsp;&nbsp;<i class="fa-regular fa-computer-classic"></i>&nbsp;&nbsp;<a href="/">Picasun</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv" class="busuanzi_container_site_uv">
                        VISITOR COUNT&nbsp;<span id="busuanzi_value_site_uv" class="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="busuanzi_container_site_pv">
                        TOTAL PAGE VIEWS&nbsp;<span id="busuanzi_value_site_pv" class="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            <span class="powered-by-container">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" href="https://hexo.io">Hexo</a></span>
                <br> 
            <span class="theme-version-container">THEME&nbsp;<a class="theme-version" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v1.1.1</a>
        </div>
        
        
        
            <div id="start_time_div" style="display:none">
                2022/8/17 11:45:14
            </div>
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
        
            <script async data-pjax defer>
                function odometer_init(){
                        let el = document.getElementsByClassName('odometer');
                        for (i = 0; i < el.length; i++) {
                            od = new Odometer({
                                el: el[i],
                                format: '( ddd).dd',
                                duration: 200
                            });
                        }
                }
                odometer_init();
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="unfolded-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-expand-width flex-center">
            <i class="fa-regular fa-expand"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="right-bottom-tools tool-scroll-to-top flex-center">
                <i class="fa-regular fa-arrow-up"></i>
            </li>
        

        <li class="right-bottom-tools tool-scroll-to-bottom flex-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="folded-tools-list">
        <li class="right-bottom-tools tool-toggle-show flex-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    


</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/layouts/menu-shrink.js"></script>

<script src="/js/tools/go-top-bottom.js"></script>

<script src="/js/tools/dark-light-toggle.js"></script>





    
<script src="/js/tools/code-block.js"></script>




    
<script src="/js/layouts/lazyload.js"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/layouts/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">



<div class="post-scripts pjax">
    
        
<script src="/js/tools/toc-toggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/layouts/toc.js"></script>

<script src="/js/plugins/tabs.js"></script>

    
    
</div>


    
<script src="/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            REDEFINE.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            REDEFINE.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            REDEFINE.refresh();
        });
    });
</script>



</body>
</html>
